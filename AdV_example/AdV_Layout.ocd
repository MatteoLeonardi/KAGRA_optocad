# Advanced VIRGO optical layout: data of optical components.
#
# Julien Marque, Mirko Prijatelj, Loic Rolland, Romain Bonnand  11 Apr 2013
# (version running with OptoCad_0.93, Roland Schilling)
#
# The origin of the coordinate system is the center of the central tank!
# The x axis is parallel to the interferometer arm pointing to the West
# (positive direction of axis is in East direction)
# the y axis under 90 deg to it pointing to the North (CBRS system).
#
# Mirror curvatures are given as positive if center of sphere is down
# beam, e.g. R>0 for a convex mirror.
#
# Angles are zero for surface facing right, positive angles turn counter
# clockwise.
#
# Indices of refraction:
#      rx(1)=1.45003         ! n of Suprasil fused silica @1064nm @20 degree and 0bar
#      rx(2)=1.44963         ! n of Suprasil fused silica @1064nm @20 degree and 1bar
#      rx(3)=1.45012         ! n of Homosil/Herasil fused silica @1064nm @20 degree and 0bar
#      rx(4)=1.44972         ! n of Homosil/Herasil fused silica @1064nm @20 degree and 1bar
#      rx(5)=1.507           ! n of BK7
#      rx(6)=1.94            ! n of TGG for Faraday isolators
#      rx(7)=2.1517          ! n of Lithium Niobate for Pockels cells
#      rx(8)=1.0             ! n of vacuum for diaphragms
#      rx(9)=1.53069         ! n of Zerodur @1064nm @20 degree and 0bar

x  abs=(/500.e-6,150.e-3,63.e-3,50.e-6/)     # absorption of media at 1064nm
x  tlc=(/1.e-6,.561e-6,.902e-6,1.e-6/)       # thermal lensing coeff. at 1064nm
x  icc=icc                   # Set color for interior of optical components
x print= 'printOptions'

#------------------------------------------------------------------------------------------------------
#------------------------------------------  Laser Bench ----------------------------------------------
#------------------------------------------------------------------------------------------------------

#o  -4.576, -14.925  , 0.0   # bottom and left bench coordinates Virgo+
!o  -5., -15.1  , 0.0    
!!!o  -4.3, -15.05  , 0.0    #centered vertically and moved to the right as far as possible
o   -4.05, -15.10  , 0.0    

# beam adjusted to get measured waist size and position after slave laser
# the focal lenght of L1 has to be 0.14
# after slave laser: w0t=366e-6,z2t=0.16 from waist to slave laser front panel
# after slave laser: w0s=363e-6,z2t=0.19 from waist to slave laser front panel
!b  0.2475,.9, ag=0.,p=35.,zt=-.087,wt=125e-6,zs=-.087,ws=125e-6

# beam adjusted to get measured waist size and position after F3
# the focal lenght of L1 has to be 0.12
# after F3: w0t=1053e-6,z2t=1.65 from waist to LB_M9
# after F3: w0s=933e-6,z2t=1.8 from waist to LB_M9

#      act      xap       yap     rap      phi     cur ior      r    t # label
d        d,  0.2625,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_WP1 @-0.01,0.02,0.15
+       d,  dm=0.002
h        t,  0.2625,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  0.3125,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_WP2 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  0.3125,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.002
d        t,  0.3625,      0.9, 0.0125,       0,f=0.12                  # LB\_L1 @-0.02,0.02,0.15
+       t,dm=0.003
d        d,  0.4275,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_BP1 @0.0,-0.03,0.15
+       d,  dm=0.04
h        t,  0.4275,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.04
d        d,  0.5975,      0.9, 0.0155,      0.,    0.0,icc=1           # EOM1 @0.0,-0.03,0.15
+       d,  dm=0.03
h        t,  0.5975,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.03
d        d,  0.7875,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_DP1 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  0.7875,      0.9, 0.0025,      0.,    0.0,m=5             # hole
+       t,  dm=0.002
d        t,  0.8615,      0.9, 0.0125,       0,f=-0.2                  # LB\_L2 @-0.02,0.02,0.15
+       t,dm=0.003
d        d,  0.9275,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_BP2 @0.0,-0.03,0.15
+       d,  dm=0.04
h        t,  0.9275,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.04
d        t,  0.9995,      0.9, 0.0125,       0,f=0.2                   # LB\_L3 @-0.02,0.02,0.15
+       t,dm=0.003
d        d,  1.0485,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_F1 @-0.01,0.02,0.15
+       d,  dm=0.02
h        t,  1.0485,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.02
d        d,  1.0875,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_DP2 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  1.0875,      0.9, 0.0025,      0.,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  1.1675,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_BP3 @0.0,-0.03,0.15
+       d,  dm=0.04
h        t,  1.1675,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.04
d        d,  1.2475,      0.9, 0.0155,      0.,    0.0,icc=1           # LB\_WP3 @-0.03,0.02,0.15
+       d,  dm=0.002
h        t,  1.2475,      0.9, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.002
d        r,  1.3525,      0.9, 0.0125,      45,    0.0,  1,.9995,.0005 # LB\_M1 @.0,.01,0.15
+       d,  dm=0.00635
d      str,  1.3525,     0.72, 0.0125,    -135,    0.0,  1,.9995,.0005 # LB\_M2 @-.06,-.01,0.15
+       t,  dm=0.00635

d        t,  0.9325,    0.718, 0.0125,     180,f=0.155                 # LB\_Ls1 @-0.03,-0.03,0.15
+       t,dm=0.003
d        d,  0.8375,    0.718,  0.015,     180,                        # SL\_DT @-0.09,-0.01,0.15
+       d,dm=0.03,icc=icpd
d        r,  1.3505,     0.49, 0.0125,    -135,    0.0,  1,.9995,.0005 # LB\_Ms1 @-.06,-.02,0.15
+       d,  dm=0.00635
d        t,  1.3975,     0.49, 0.0125,       0,f=0.155                 # LB\_Ls5 @-0.02,-0.03,0.15
+       t,dm=0.003
d        d,  1.5525,     0.49,  0.015,       0,                        # ML\_D @-0.01,-0.03,0.15
+       d,dm=0.03,icc=icpd
d        r,  1.5685,     0.72, 0.0125,    11.5,    0.0,  1,.9995,.0005 # LB\_slave @.01,.0,0.15
+       d,  dm=0.00635
d      str,  1.3195,   0.6156, 0.0125,   168.1,    0.0,  1,.9947,.0053 # LB\_M3 @-.05,.02,0.15
+       t,  dm=0.00635
d      str,  1.1428,   0.5406, 0.0125,     158,    0.0,  1,  .39,  .61 # LB\_Ms2 @-.06,.01,0.15
+       t,  dm=0.00635
d        r,  1.1623,   0.4946, 0.0125,   -78.5,    0.0,  1,.9995,.0005 # LB\_Ms3 @-.03,-.03,0.15
+       d,  dm=0.00635
d        t,  1.1623,   0.5646, 0.0125,      90,f=0.26                  # LB\_Ls3 @0.01,0.01,0.15
+       t,dm=0.003
d      str,  1.1623,   0.6396, 0.0125,      45,    0.0,  1,   .5,   .5 # LB\_Ms5 @-.06,-.02,0.15
+       t,  dm=0.00635
d        d,  0.7077,   0.6396,  0.025,     180,                        # SL\_QN @-0.07,0.0,0.15
+       d,dm=0.1,icc=icqpd
d        t,  1.1643,   0.7400, 0.0125,      90,f=-0.2                  # LB\_Ls4 @0.02,0.0,0.15
+       t,dm=0.003
d        r,  1.1643,   0.7800, 0.0125,      45,    0.0,  1,.9995,.0005 # LB\_Ms6 @.0,.01,0.15
+       d,  dm=0.00635
d        d,  1.0077,   0.7800,  0.025,     180,                        # SL\_QF @-0.07,0.0,0.15
+       d,dm=0.1,icc=icqpd
d        t,  1.0821,   0.5172, 0.0125,     203,f=0.1                   # LB\_Ls2 @-0.02,-0.03,0.15
+       t,dm=0.003
d      str,  1.0241,   0.4926, 0.0125,     248,    0.0,  1,   .3,   .7 # LB\_Ms4 @-.03,-.03,0.15
+       t,  dm=0.00635
d        d,  0.9811,   0.5939,  0.015,     113,                        # SL\_D1R @-0.085,0.0,0.15
+       d,dm=0.03,icc=icpd
d        d,  0.9228,   0.4496,  0.015,     203,                        # SL\_D2R @-0.08,0.01,0.15
+       d,dm=0.03,icc=icpd

d        r, 1.52033,      0.4, 0.0125,   -23.4,    0.0,  1, .997, .003 # LB\_M4 @.01,-.01,0.15
+       d,  dm=0.00635
d        d,  1.4553,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_DP3 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  1.4553,      0.4, 0.0025,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  1.3553,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_WP4 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  1.3553,      0.4, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  1.1403,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_DP4 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  1.1403,      0.4, 0.0025,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  1.0603,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_BP4 @-0.05,-0.03,0.15
+       d,  dm=0.04
h        t,  1.0603,      0.4, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.04
d        d,  0.9703,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_F2 @-0.03,-0.03,0.15
+       d,  dm=0.02
h        t,  0.9703,      0.4, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.02
d        d,  0.8903,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_BP5 @-0.05,-0.03,0.15
+       d,  dm=0.04
h        t,  0.8903,      0.4, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.04

# new virgo+ setup
d        d,  0.7903,      0.4, 0.0155,     180,    0.0,icc=1           # LB\_WP5 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t,  0.7903,      0.4, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        r, 0.47033,      0.4, 0.0125,     135,    0.0,  1,.9992,.0008 # LB\_M5 @-.06,.01,0.15
+       d,  dm=0.00635
d        t, 0.47033,      0.2, 0.0125,      90,f=0.15                  # LB\_L4 @0.015,0.0,0.15
+       t,dm=0
d        t, 0.47033,    0.115, 0.0125,      90,f=-0.1                  # LB\_L5 @0.015,0.0,0.15
+       t,dm=0.003
d        r, 0.47033,    0.082, 0.0125,     -45,    0.0,  1,.9995,.0005 # LB\_M6 @.01,-.01,0.15
+       d,  dm=0.00635
d        r, 0.27033,    0.082, 0.0125,    -135,    0.0,  1,.9995,.0005 # LB\_M7 @-.06,-.01,0.15
+       d,  dm=0.00635
d        t, 0.27033,    0.432, 0.0125,      90,f=0.12                  # LB\_Lampli @-0.05,0.02,0.15
+       t,dm=0.003
d        r, 0.27033,    0.705, 0.0125,     135,    0.0,  1,.9995,.0005 # LB\_M8 @-.06,.0,0.15
+       d,  dm=0.00635
d        t, 0.37033,    0.452, 0.0125,    86.5,f=-0.2,rc=1000000       # LB\_L6 @0.015,0.0,0.15
+     srt,dm=0.003
d        t, 0.37033,    0.365, 0.0125,      90,f=0.2                   # LB\_L7 @0.015,0.0,0.15
+       t,dm=0.003
d        r, 0.37033,    0.705, 0.0125,      45,    0.0,  1,.9998,.0002 # LB\_M9 @-.03,.02,0.15
+       d,  dm=0.00635
d        r, 0.37033,      0.3, 0.0125,    -135,    0.0,  1,.9999,.0001 # LB\_M10 @-.05,-.03,0.15
+       d,  dm=0.00635
d        d,    0.69,      0.3, 0.0155,     180,    0.0,icc=1           # LB\_DP5 @-0.03,0.02,0.15
+       d,  dm=0.002
h        t,    0.69,      0.3, 0.0025,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,    0.79,      0.3, 0.0155,     180,    0.0,icc=1           # LB\_WP6 @-0.03,0.02,0.15
+       d,  dm=0.002
h        t,    0.79,      0.3, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  0.8903,      0.3, 0.0155,     180,    0.0,icc=1           # LB\_BP6 @-0.05,0.02,0.15
+       d,  dm=0.04
h        t,  0.8903,      0.3, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.04
d        d,  0.9703,      0.3, 0.0155,     180,    0.0,icc=1           # LB\_WP7 @-0.03,0.02,0.15
+       d,  dm=0.002
h        t,  0.9703,      0.3, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.002
d        d,  1.0603,      0.3, 0.0155,     180,    0.0,icc=1           # LB\_BP7 @-0.05,0.02,0.15
+       d,  dm=0.04
h        t,  1.0603,      0.3, 0.0125,     180,    0.0,m=5             # hole
+       t,  dm=0.04
d        r, 1.37033,      0.3, 0.0125,      45,    0.0,  1,.9999,.0001 # LB\_M11 @.01,.0,0.15
+       d,  dm=0.00635
d        r, 1.37033,    0.195, 0.0125,  -41.65,    0.0,  1,.9999,.0001 # LB\_M12 @.01,-.01,0.15
+       d,  dm=0.00635
c   crtstr, 1.20532,   0.1736, 0.0125,  48.425,    0.0,  1,   .9,   .1 # LB\_PMC1 @-0.15,-.02,0.15
+       t,  dm=0.00635
d        str, 1.20532,   0.1436, 0.0125, -48.425,    0.0,  1,   .9,   .1 # LB\_PMC2 @-.05,-.03,0.15
+       t,  dm=0.00635
d        str, 1.07932,   0.1586, 0.0125,    -180,  -0.25,  1,.9999,.0001 # LB\_PMCend @-.06,.01,0.15
+       d,  dm=0.00635
d        r, 1.20532,    0.203, 0.0125,     135,    0.0,  1,.9999,.0001 # LB\_PMC\_P1 @-.1,.01,0.15
+       d,  dm=0.00635
d        r,   1.255,    0.203, 0.0125,     -45,    0.0,  1,.9999,.0001 # LB\_PMC\_P2 @-.12,-.04,0.15
+       d,  dm=0.00635
d        r,   1.259,    0.220, 0.0125,     135,    0.0,  1,.9999,.0001 # LB\_PMC\_M1 @-.1,.02,0.15
+       d,  dm=0.00635
d      srt,   1.619,    0.220,  0.025,     -45,    0.0,  1,  .05,.95   # LB\_PMC\_M2 @-.05,-.04,0.15
+       t,dm=0.0125,da=177,r=.0,t=1.
d        d,     1.9,    0.250,   .025,     -90,    0.0,icc=1           # beam dump
+       d,  dm=0.04
d      srt,   1.615,    0.285, 0.0125,     -45,    0.0,  1,   .7,.3    # LB\_PMC\_M3 @-0.1,.0,0.15
+       t,  dm=0.00635
d        d,   1.612,    0.495,  0.025,      90,                        # PMC\_DR @-0.03,0.02,0.15
+       d,dm=0.,rd=.016,c=62.5,icc=icpd
d        t,   1.612,    0.395, 0.0125,      90,f=0.1                   # LB\_PMC\_L3 @0.01,0.0,0.15
+       t,dm=0.003
d        t,   1.669,    0.280, 0.0125,       0,f=0.2                   # LB\_PMC\_L1 @-0.04,0.02,0.15
+       t,dm=0.003
d       srt,  1.769,    0.283, 0.0125,     -45,    0.0,  1,   .5,.5    # LB\_PMC\_M4 @-0.05,-.03,0.15
+       t,  dm=0.00635
d        r,   1.819,    0.280, 0.0125,     -45,    0.0,  1,.9995,.0005 # LB\_PMC\_M5 @0.02,-0.01,0.15
+       t,  dm=0.00635
d        t,   1.578,    0.092, 0.0125,     -10,f=0.1                   # LB\_PMC\_L4 @-0.02,0.02,0.15
+       t,dm=0.003
d        d,   1.650,    0.082,  0.025,     -10,                        # PMC\_DT @0.02,-.01,0.15
+       d,dm=0.,rd=.016,c=62.5,icc=icpd
d        t,   1.765,    0.363, 0.0125,      90,f=-0.1                  # LB\_PMC\_L2 @-0.11,0.00,0.15
+       t,dm=0.003 
d        d,   1.900,    0.350,  0.025,       0,                        # PMC\_QN @0.0,0.0,0.15
+       d,dm=0.1,icc=icqpd
d        r,   1.765,    0.500, 0.0125,     135,    0.0,  1,.9999,.0001 # LB\_PMC\_M6 @-.05,.02,0.15
+       t,  dm=0.00635
d        r,   1.815,    0.350, 0.0125,     135,    0.0,  1,.9999,.0001 # LB\_PMC\_M7 @-0.02,.02,0.15
+       t,  dm=0.00635
d        d,   1.900,    0.500,  0.025,       0,                        # PMC\_QF @0.0,0.0,0.15
+       d,dm=0.1,icc=icqpd
d       str,1.51532,   0.1050, 0.0125,   -48.5,    0.0,  1,   .9,.01   # LB\_M13 @-.03,-.03,0.15
+       t,  dm=0.00635
d        r, 1.51532,    0.160, 0.0125,     135,    0.0,  1,.9999,.0001 # LB\_M14 @-.03,.02,0.15
+       d,  dm=0.00635
d        d, 1.68532,    0.160, 0.0155,      0.,    0.0,icc=1           # LB\_DP6 @-0.03,-0.03,0.15
+       d,  dm=0.002
h        t, 1.68532,    0.160, 0.0025,      0.,    0.0,m=5             # hole
+       t,  dm=0.002
d        d, 1.84532,    0.160, 0.0155,      0.,    0.0,icc=1           # EOM2 @0.0,-0.03,0.15
+       d,  dm=0.03
h        t, 1.84532,    0.160, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.03
d        d, 1.94532,    0.160, 0.0155,      0.,    0.0,icc=1           # EOM3 @0.0,-0.03,0.15
+       d,  dm=0.03
h        t, 1.94532,    0.160, 0.0125,      0.,    0.0,m=5             # hole
+       t,  dm=0.03

# Phase camera setup
#d        r,   0.405,     0.75, 0.0250,      90,    0.0,  1,.9998,.0002 # LB\_PC\_M1 @-.04,.02,0.15
#+       d,  dm=0.00635
#d        t,   0.420,     0.65, 0.0125,      97,f=0.10                  # LB\_PC\_L1 @0.01,0.00,0.15
#+       t,dm=0.003 
#d        r,   0.438,     0.50, 0.0250,  -131.5,    0.0,  1,.9998,.0002 # LB\_PC\_M2 @-.04,-.03,0.15
#+       d,  dm=0.00635
#d        t,   0.500,     0.50, 0.0125,      0.,f=0.05                  # LB\_PC\_L2 @-0.04,0.02,0.15
#+       t,dm=0.003
#d        r,   0.540,     0.50, 0.0250,   -41.3,    0.0,  1,.9998,.0002 # LB\_PC\_M3 @-.04,-.03,0.15
#+       d,  dm=0.00635
#d      srt,   0.530,     0.58, 0.0250,   138.5,    0.0,  1,   .1,   .9 # LB\_PC\_M4 @-.04,-.03,0.15
#+       t,  dm=0.00635
#d        t,   0.800,     0.58, 0.0125,      0.,f=0.04                  # LB\_PC\_L3 @-0.04,0.02,0.15
#+       t,dm=0.003
#d        d,   0.850,     0.58,  0.025,      0.,                        # Amp\_DT @0.02,-.01,0.15
#+       d,dm=0.,rd=.016,c=62.5,icc=icpd
#d        d,   0.523,     0.65, 0.0155,      97,    0.0,icc=1           # LB\_PC\_WP @0.01,0.01,0.15
#+       d,  dm=0.002
#h        t,   0.523,     0.65, 0.0125,      97,    0.0,m=5             # hole
#+       t,  dm=0.002
#d        r,   0.507,    0.750, 0.0250,   138.5,    0.0,  1,.9998,.0002 # LB\_PC\_M5 @-.04,.02,0.15
#+       d,  dm=0.00635
#d        d,   0.550,     0.75,  0.010,      0.,                        # LB\_PC\_Fib @-0.03,-.03,0.15
#+       d,dm=0.,rd=.01,rc=0.01,icc=8
#d        d,   0.560,    0.750,   .002,       0,    0.0,icc=8           # to EDB @0.08,-.005,0.15
#+       d,  dm=0.08

!c        d, 2,    0.160, 0.0155,      0.,    0.0,icc=1           # Dump @0.0,-0.03,0.15

#------------------------------------------------------------------------------------------------------
#-----------------------------  External Injection Bench 1 --------------------------------------------
#------------------------------------------------------------------------------------------------------

#o  -1.816, -14.975  , 0.0   # bottom and left bench coordinates
#o  -1.816, -15.025  , 0.0   # bottom and left bench coordinates after benchdisplacement 241005
o  -1.816, -15.325  , 0.0   # bottom and left bench coordinates after 30cm shift for AdV

# Beam found by going through the IMC in reverse
!b   0.0754706124-0.1, 0.09731, ag=0, p=100., z=284.e-3, w=500e-6
# That beam but adjusted to real PMC waist
!b   0.0754706124-0.1, 0.09731, ag=0, p=100., z=284.e-3, wt=444e-6, ws=497e-6
# Changed to reflect the moved position of EIB_M1
b   0.0754706124-0.1-0.03969, 0.137, ag=0, p=100., z=284.e-3, wt=444e-6, ws=497e-6


!# Assumed beam for the new config of the LB
!d        t, 0.0754706124-512e-3,     0.09731,   .025,     0,m=4,f=0.65              # EIB\_LX1 @-0.06,-0.05,0.15
!+       t,dm=2.2e-3


!!b   0., 3014.8, ag=+90, p=1., zt=2.126, wt=479E-6, zs=1.880, ws=396E-6 # fakeBeam

!c        d, 0.100, 0.100, .01, 180.0, 0.0, 3, 1.0, 0.0 # input beam @ -0.09,-.01,0.15

!d        r,  0.185,   0.09731,   .025,          -45, 0.0,  1,   1.,  .0  # EIB\_M1 @-.03,.03,0.15
d        r,  0.185,   0.137,   .025,          -45, 0.0,  1,   1.,  .0  # EIB\_M1 @-.03,.03,0.15
+       t,dm=0.00635,r=.0,t=1.
d        d,   0.135,     0.78, 0.0155,    -90, 0.0,icc=1           # EIB\_WP1 @-0.09,0.0,0.15
+       d,  dm=0.002
h        t,   0.135,  0.78, 0.0125,    -90, 0.0,m=5             # hole
+       t,  dm=0.002

d        d,   0.185,     0.62, 0.0675,    -90, 0.0,icc=1           # EIB\_EOM1\_3 @-0.09,0.02,0.15
+       d,  dm=0.352
h        t,   0.185,     0.62, 0.004,    -90, 0.0,m=5             # hole
+       t,  dm=0.352
d        d,  0.185,   0.72,   .04,          45, 0.0,  1,   0.,  .0,icc=1  # EIB\_M2hldr
+       d,dm=0.045
d        r,  0.185,   0.72,   .025,          45, 0.0,  1,   1.,  .0  # EIB\_M2 @-.02,-.05,0.15
+       t,dm=0.00635,r=.0,t=1.
d        d,  0.135,   0.72,   .04,          225, 0.0,  1,   0.,  .0,icc=1  # EIB\_M3hldr
+       d,dm=0.045
d        r,  0.135,   0.72,   .025,          225, 0.0,  1,   1.,  .0  # EIB\_M3 @-.05,.03,0.15
+       t,dm=0.00635,r=.0,t=1.
d        d,  0.135,   1.3567692-0.035,   .04,          -45-180, 0.0,  1,   0.,  .0, icc=1  # EIB\_M4hldr
+       d,dm=0.045,
d        r,  0.135,   1.3567692-0.035,   .025,          -45-180, 0.0,  1,   1.,  .0  # EIB\_M4 @-.03,.07,0.15
+       t,dm=0.00635,r=.0,t=1.



#      act      xap       yap     rap          phi   cur ior    r    t  # label
d        d,   0.21383+0.05,    1.3567692-0.035,   .04,  -180-45-90, 0.0,  1,   0.,  .0,icc=1  # EIB\_M5hldr
+       d,dm=0.045
d        r,   0.21383+0.05,    1.3567692-0.035,   .025,  -180-45-90, 0.0,  1,   1.,  .0  # EIB\_M5 @-.03,-.05,0.15
+       t,dm=0.00635,da=177,r=.0,t=1.

d        d,   0.135,   0.8125, 0.02,          90, 0.0,icc=1           # EIB\_BP1 @-0.09,0.02,0.15
+       d,  dm=0.05
h        t,   0.135,   0.8125, 0.0125,          90, 0.0,m=5             # hole
+       t,  dm=0.05
d        d,   0.135,    0.8835, 0.045,          90, 0.0,icc=1           # EIB\_F1 @-0.07,0.01,0.15
+       d,  dm=0.115
h        t,   0.135,   0.8835, 0.0125,          90, 0.0,m=5             # hole
+       t,  dm=0.115
d        d,   0.135,   1.0175, 0.02,          90, 0.0,icc=1           # EIB\_BP2 @-0.09,0.02,0.15
+       d,  dm=0.05
h        t,   0.135,   1.0175, 0.0125,          90, 0.0,m=5             # hole
+       t,  dm=0.05


d        d,   0.2136+0.05,    0.7917692, 0.03,   -90-3.5,  -2,  1,   0.,  .0,icc=1 # EIB\_T\_M1hldr 
+       d,  dm=0.05
d        r,   0.2136+0.05,    0.791769, 0.0125,   -90-3.5,  -2,  1,   1.,  .0  # EIB\_T\_M1 @-.05,.02,0.15
+       d,  dm=0.00935
d        d,   0.2832+0.05,    1.3613071, 0.03,90-3.5,-1.33, 1,   0.,  .0, icc=1  # EIB\_T\_M2hldr
+       d,  dm=0.05
d        r,   0.2832+0.05,    1.3613071, 0.0125,90-3.5,-1.33, 1,   1.,  .0  # EIB\_T\_M2 @-.02,-.03,0.15
+       d,  dm=0.00935
d        d,   0.28281+0.05,      0.6613, 0.03,    -93.5, 1.25, 1,   0.,  .0,icc=1  # EIB\_T\_M3\_PZT1hldr
+       d,  dm=0.053
d        r,    0.28281+0.05,     0.6613, 0.0125,    -93.5, 1.25, 1,   1.,  .0  # EIB\_T\_M3\_PZT1 @-.05,0.02,0.15
+       d,  dm=0.00635
d        d,    0.34+0.05,        1.1258,  0.04,    90-3.5+85e-3, -0.625, 1,   0.,  .0,icc=1  # EIB\_T\_M4hldr
+       d,  dm=0.045
d        r,    0.34+0.05,        1.1258,  0.025,    90-3.5+85e-3, -0.625, 1,   1.,  .0  # EIB\_T\_M4 @-.05,-.03,0.15
+       d,  dm=0.00635
d        d,   0.23+0.05,           0.55,   .025,           0,  0.0,icc=1          # beam dump
+       d,  dm=0.04


d        d,  0.34+0.05,     0.55,   .04,   -135, 0.0,  1,   0.,  .0,icc=1  # EIB\_M6hldr
+       d,dm=0.055
d        r,  0.34+0.05,     0.55,   .025,   -135, 0.0,  1,   1.,  .0  # EIB\_M6 @-.03,.03,0.15
+       t,dm=0.00635,r=.0,t=1.
d        d,   0.44+0.03,    0.55,   .035,        -45, 0.0,  1,   0.,  .0,icc=1  # EIB\_M7\_PZT2hldr
+       d,dm=0.075
d        r,   0.44+0.03,    0.55,   .025,        -45, 0.0,  1,   1.,  .0  # EIB\_M7\_PZT2 @-.04,-.10,0.15
+       t,dm=0.00635,r=.0,t=1.
d        d,   0.44+0.03,    1.350,   .04,       135.0+2.77e-3-85e-3+98e-3+30e-3+250e-6+40e-3-537.5e-6, 0.0,  1,   0.,  .0,icc=1  # EIB\_M8hldr
+       d,dm=0.045
d        r,   0.44+0.03,    1.350,   .025,       135.0854825+72e-3, 0.0,  1,   1.,  .0  # EIB\_M8 @-.03,.07,0.15
+       t,dm=0.00635,r=.0,t=1.
d      srt,1.539444,    1.350,   .038,  -44.9542304, 0.0,  1, .999,.001  # EIB\_M9 @-.06,-.06,0.15
+       t,dm=15e-3,da=179.,r=0.001,t=0.999

#      act      xap       yap     rap      phi   cur ior    r    t  # label
d        d,    1.75, 1.345242,   .04, 45.4, 0.0,  1,   1.,  .0, icc=1  # EIB\_BPC\_M1hldr 
+       d,dm=0.02
d        r,    1.75, 1.345242,   .025, 45.4, 0.0,  1,   1.,  .0  # EIB\_BPC\_M1 @.04,0.01,0.15
+       t,dm=0.00635,r=.0,t=1.
d      srt,    1.75-3.4e-3-35e-6,     1.240051299,   .025,     -45, 0.0,  1,   .5,  .5  # EIB\_BPC\_M2 @.04,0.01,0.15
+       t,dm=0.00635,da=179.,r=0.003,t=0.997
d        t,    1.655,     1.24-214e-6,   .025,     180,f=0.356              # EIB\_BPC\_L1 @-0.06,-0.05,0.15
+       t,dm=0.003,c=0
d        t,   1.655-0.3185,     1.24-1.1e-3-35e-6,  .0125,     180,f=-0.0387,c=0        # EIB\_BPC\_L2 @-0.08,-0.04,0.15
+       t,dm=0.003
d        srt,   1.085,     1.24,  .0125,     225, 0.0, 1, 0.5, 0.5   # EIB\_BPC\_M4 @-0.08,-0.04,0.15
+       t,dm=0.00635
d        d,   0.77-0.2535,     1.24,   .04,     0,                     # BPC\_QF @0.02,-0.01,0.15
+       d,dm=0.12,icc=icqpd
d        d,   1.753,     1.14,   .04,   -44.5, 0.0,  1,   1.,  .0,icc=1 # EIB\_BPC\_M3hldr
+       d,dm=0.02
d        r,   1.753,     1.14,   .025,   -44.5, 0.0,  1,   1.,  .0, # EIB\_BPC\_M3 @.04,-0.01,0.15
+       t,dm=0.00635,r=.0,t=1.
d        t,   1.452,     1.13897,   .025,     180,f=0.5                # EIB\_BPC\_L3 @-0.06,-0.05,0.15
+       t,dm=0.003,c=0
!d        d,    0.875,     1.14,   .04,     180,                     # BPC\_QN @-0.08,-0.01,0.15
d        d,    0.9,     1.14,   .04,     180,                     # BPC\_QN @-0.08,-0.01,0.15
+       d,dm=0.12,icc=icqpd

# Beam reflected at EIB\_BMS\_M4, onto the EAB bench
# Uses the EIB1 coordinate system
#o  -1.15, -13.7  , 0.0   # bottom and left bench coordinates
#      act      xap       yap     rap      phi   cur ior    r    t  # label
#d        d,   0.855,     1.825,  .025,     90, 0.0, 1, 0.5, 0.5, icc=icqpd # EAB\_QN @-0.04,0.12,0.15
!d        d,   1.085,     1.828-169.4512e-3,  .025,     90, 0.0, 1, 0.5, 0.5, icc=icqpd # EAB\_QN @-0.04,0.12,0.15
d        d,   1.085,     1.8085,  .025,     90, 0.0, 1, 0.5, 0.5, icc=icqpd # EAB\_QN @-0.04,0.12,0.15
+       d,dm=0.1

# beam transmitted by SIB1_M13
#      act      xap       yap     rap          phi   cur ior    r    t  # label
d        r,    1.658,   1.432,   .025,       -135,   0.0,  1,   1.,  .0  # EIB\_Har\_M1 @.02,.01,0.15
+       t,dm=0.00635,r=.0,t=1.
d        r,    2.27567, 1.42487,   .025,         45-0.25,   0.0,  1,  1.,  .0  # EIB\_Har\_M2 @.02,.0,0.15
+       t,dm=0.00635,r=.0,t=1.
d       t,     2.27567, 1.25358,  .0254,        -90,   0.0,  5,  .0,  1. # EIB\_Har\_LX1 @.02,.0,0.15
+       t,dm=0.00635, c=1/412e-3
d        srt,    2.27567,   0.555,   .025, -45, 0.0,  1,   1.,  .0  # EIB\_Har\_M3 @.02,.0,0.15
+       t,dm=0.00635,r=.0,t=1.
d       d,     2.27567,     0.5,   .025,  -90,  0.0,icc=1          # Beam dump
+       d,dm=.035
d        t,   1.458,   0.559082,   .0254,     0,f=0.6875 # EIB\_Har\_LX2 @.02,.0,0.15
+       t,dm=0.00635, c=0

# beam reflected by dpf
#      act      xap       yap     rap          phi   cur ior    r    t  # label
d        d,   1.925,    1.480,    .10,         -90,  0.0,icc=1          # EIB\_ReMC\_DP1 @-0.17,0.01,0.15
+       d,  dm=0.002
h        t,   1.925,    1.480,   .025,         -90,  0.0,m=5            # hole
+       t,  dm=0.002
d      srt,   1.925,    0.850,   .025,  -112.5, 0.0,  1, 0.10,0.90  # EIB\_ReMC\_M1 @-.14,-.02,0.15
+       t,dm=0.006,da=177.,r=0.003,t=0.997
d      srt,   2.075,    1.000,   .025,   22.04, 0.0,  1, 0.01,0.99  # EIB\_ReMC\_M2 @.02,-.02,0.15
+       t,dm=0.006,r=.0,t=1.
d        d,   2.095,    1.030,   .020,      45,  0.0,icc=1          # beam dump
+       d,  dm=0.02
d      srt,   1.850,    1.002,   .025,     135, 0.0,  1,   .5,  .5  # EIB\_ReMC\_M3 @-.07,.03,0.15
+       t,dm=0.006,da=179.,r=0.003,t=0.997
d        t,   1.764893+0.006293,   1.0058,   .0254,     180,f=0.3                # EIB\_ReMC\_L3 @-.08,-.04,0.15 !Changed 14-06-25 according to MM's calc.
+       t,dm=0.003,c=0
c        r,   1.71,   1.0058,   .0125,     135,                # Scanner1 @-.08,-.04,0.15
c        r,   1.71,   0.9858,   .0125,     -45,                # Scanner2 @-.08,-.04,0.15
d        d,   1.445+0.0087,   0.9858,   .04,     180,                     # IMC\_QN @-0.09,-0.01,0.15           !Changed 14-06-25 according to MM's calc.
+       d,dm=0.12,icc=icqpd
d        r,  1.8535,    0.900,   .025,  -44.59, 0.0,  1,  .99, .01  # EIB\_ReMC\_M5 @-.07,-.04,0.15
+       t,dm=0.006,r=.0,t=1.
d        t,   1.700624,    0.900,   .025,     180,f=0.3436                # EIB\_ReMC\_L1 @-.07,-.04,0.15 !Changed 14-06-25 according to MM's calc.
+       t,dm=0.003,c=0
d        t,   1.405709,    0.900,  .0125,     180,f=-0.0436,c=0         # EIB\_ReMC\_L2 @-.07,-.04,0.15 !Changed 14-06-25 according to MM's calc.
+       t,dm=0.003
c        r,   0.63,    0.8,   .0125,     -45,                # Scanner1 @.02,.02,0.15
c        r,   0.61,    0.8,   .0125,     135,                # Scanner2 @-.08,-.04,0.15
d        r,   0.63,    0.899735,   .025,     135, 0.0,  1,  .99, .01  # EIB\_ReMC\_M4 @-.04,.03,0.15
+       t,dm=0.00635,r=.0,t=1.
d        d,   0.61,    0.4822,   .04,     -90,                     # IMC\_QF @-0.03,-0.03,0.15 !Changed 14-06-25 according to MM's calc.
+       d,dm=0.12,icc=icqpd

d      srt,   1.928,    0.700,   .025,   -44.2, 0.0,  1, 0.01,0.99  # EIB\_ReMC\_M6 @-.07,-.04,0.15
+       t,dm=0.006,da=183.,r=.0,t=1.
d        t,   1.928,   0.5605,   .025,-45.42, 0.0,  1,   1.,  .0  # EIB\_ReMC\_M10 @-.05,-.04,0.15
+       t,dm=0.006
d      srt,   1.8,    0.700,   .025,     225, 0.0,  1, 0.70,0.30  # EIB\_ReMC\_M7 @-.05,-.04,0.15
+       t,dm=0.006
d        d,   1.8,    0.740,   .025,      90,  0.0,icc=1          # beam dump
+       d,  dm=0.02
!d        t,   1.475,    0.700,   .025,     180,f=0.5                # EIB\_ReMC\_L4 @-0.07,-0.04,0.15
d        t,   1.7,    0.700,   .025,     180,f=0.5                # EIB\_ReMC\_L4 @-0.07,-0.04,0.15
+       t,dm=0.003
#d        t,   1.375,    0.700,  .0125,     180,                     # EIB\_ReMC\_ND3 @-0.07,0.03,0.15
#+       t,dm=0.003
d        d,   1.155+22e-3,    0.700,   .015,     180,                     # IMC\_DR @-0.07,-0.01,0.15
+       d,dm=0.07,icc=icpd

d      srt,   1.575,    0.700,   .025,     225, 0.0,  1, 0.01,0.99  # EIB\_ReMC\_M8 @-.05,-.04,0.15
+       t,dm=0.006,r=.0,t=1.
d        r,   1.575,    0.800,   .025,      45, 0.0,  1,    1,   0  # EIB\_ReMC\_M9 @-.05,.02,0.15
+       t,dm=0.006,r=.0,t=1.
!d        t,   1.300,    0.800,   .025,     180,f=0.6101                # EIB\_ReMC\_L5 @-0.08,-0.04,0.15
!+       t,dm=0.003
d        d,   1.350,    0.800,   .035,     180,                     # IMC-ReBeam @-0.13,0.0,0.15 
+       d,dm=0.02,icc=iccam
!d        d,   0.900,    0.800,   .040,     180,                     # IMC-ReBeam @-0.13,0.0,0.15
!+       d,dm=0.21,icc=iccam

d        d,   1.925,    0.490,   .025,     -90,  0.0,icc=1          # beam dump
+       d,  dm=0.04

# beam transmitted by Faraday
#d       d,   2.175,     1.5,   .025,  -90,  0.0,icc=1          # Beam dump
#+       d,dm=.035


d        dt,   2.193,   0.558,   .025,-44.60, 0.0,  1,   1.,  .0  # EIB\_Far\_M1 @-.05,-.04,0.15
+       t,dm=0.00635,r=.0,t=1.



# Input Beam Monitoring System
o  -1.26+.6+0.2, -15.32+.6, 180.0   # bottom and left bench coordinates + rotation. X AND Y AXISES ARE INVERTED!
d srt, 0.05, 0.05, .0254, -45           # EIB\_IBMS\_M1 @-.025,-.02,0.15
+ d,dm= 0.005 
c r, 0.05, 0.55, .0254, -45             # EIB\_IBMS\_M2 @-.025,-.02,0.1
#Alignment: galvos
c r, 0.15, 0.55, .0254, +45             # EIB\_IBMS\_M3 @-.025,-.02,0.1
c r, 0.15, 0.45, .0254, +45             # EIB\_IBMS\_M4 @-.025,-.02,0.1
c r, 0.25, 0.45, .0254, -45             # EIB\_IBMS\_M5 @-.025,-.024,0.1
c r, 0.25, 0.55, .0254, -45             # EIB\_IBMS\_M6 @-.025,-.02,0.1
# Size: telescope 1
d t, 0.35, 0.55, .0254,   0, f=0.14     # EIB\_IBMS\_L1 @-.025,-.025,0.1
+ t 
d t, 0.42315,0.55, .0127,   0, f=-0.07  # EIB\_IBMS\_L2 @-.025,-.025,0.1
+ t 
# Size: telescope2 path1-telescope
c r, 0.55, 0.55, .0127, +45             # EIB\_IBMS\_M8 @-.095,-0.003,0.1
c r, 0.55, 0.35, .0127, -45             # EIB\_IBMS\_M11 @-.095,-0.003,0.1
d t, 0.55, 0.50, .0127, +90, f=0.14     # EIB\_IBMS\_L3 @-.095,-0.003,0.1
+ t 
d t, 0.55, 0.4318, .0127, +90, f=-0.07  # EIB\_IBMS\_L4 @-.095,-0.003,0.1
+ t 
c t, 0.55, 0.40, .0127, +45             # EIB\_IBMS\_M10 @-.095,-0.003,0.1
# Size: telescope2 path2
d srt, 0.50, 0.55, .0127, +45           # EIB\_IBMS\_M7 @-.03,-0.025,0.1
+ t, dm= 0.005 
d srt, 0.50, 0.35, .0127, -45           # BS2
+ t, dm= 0.005 
c t, 0.50, 0.47, .0127, +45             # EIB\_IBMS\_M9 @0.01,-0.003,0.1
c d, 0.50, 0.33, .0127, +90             # EIB\_IBMS\_M12 @-.03,0.01,0.1

# Change polarization to p
d t, 0.45, 0.35, .0127, +00             # lambda/2 @-.02,0.025,0.1
+ t, dx=0.005

# Power: PBS + lbd
c t, 0.4, 0.35, .0127, +00, 0.0, 1, .005, .995 # EIB\_IBMS\_M13 @-.04,0.015,0.1
+ t, rd=0.0127, ag= 090., r=.005, t=.995
+ t, rd=0.0127, ag= 180., r=.005, t=.995
+ t, rd=0.0127, ag= 270., r=.005, t=.995
c srt,  0.4+0.0127, 0.35, .01796, 45., 0., 1, .995, .000 
c srth, 0.4+0.0127, 0.35, .01796, 45., 0., 1, .490, .490 
#c d, 0.4+0.0127, 0.45, .0127, +90              # BD4

c d, 0.41, 0.42, .0127, 90              # BD6



d t, 0.36, 0.35, .0127, +00             # lambda/2 @-.02,0.025,0.1
+ t, dx=0.005

c t, 0.15, 0.3, .0127, -45, 0.0, 1, .001, .995 # FLIP @-.02,0.005,0.1
c d, 0.12, 0.3, .0127, 0                # BD5


c t, 0.3, 0.35, .0127, +00, 0.0, 1, .005, .995 # EIB\_IBMS\_M14 @-.04,0.01,0.1
+ t, rd=0.0127, ag= 90., r=.005, t=.995
+ t, rd=0.0127, ag= 180., r=.005, t=.995
+ t, rd=0.0127, ag= 270., r=.005, t=.995
c srt, 0.3+0.0127, 0.35, .01796, -225., 0., 1, .995, .000 #PBS2
c srth, 0.3+0.0127, 0.35, .01796,-225., 0., 1, .490, .490

c d, 0.315, 0.30, .0127, 90             # BD5

c t, 0.26, 0.35, .0127, +00, 0.0, 1, .005, .995 # EIB\_IBMS\_M15 @-.04,0.015,0.1
+ t, rd=0.0127, ag= 90., r=.005, t=.995
+ t, rd=0.0127, ag= 180., r=.005, t=.995
+ t, rd=0.0127, ag= 270., r=.005, t=.995
c srt, 0.26+0.0127, 0.35, .01796, -45., 0., 1, .995, .000 #PBS3
c srth, 0.26+0.0127, 0.35, .01796,-45., 0., 1, .490, .490 

c d, 0.275, 0.30, .0127, 90             # BD6

# Diagnostics
d srt, 0.15, 0.353, .0127, -225 , r=.995, t=.005                # EIB\_IBMS\_M16 @0.01,-0.003,0.1
+ t, dm = 0.005
!d r, 0.1, 0.355, .0127, +225   # EIB\_IBMS\_M16 @0.01,-0.003,0.1
!+ t, dm = 0.005
d d, 0.12, 0.355, 0.025, 180 # PD @0.01,-0.013,0.1
+ d, dm = 0.05

#Qioptiq Wedged BK7 window. ARHS coated. Wedge 2Deg
!d srt, 0.148, 0.25, .0127, -135 , r=.005, t=.995               # EIB\_IBMS\_M17 @0.01,-0.003,0.1
d srt, 0.153, 0.247, .0127, -135 , r=.005, t=.995               # EIB\_IBMS\_M17 @0.01,-0.003,0.1
+ srt, dm = 0.005, da=178 , r=.012
!+ t, dm = 0.005, r=.012


c t, 0.18, 0.25, .0127, 0 , t=.1                # ND @-0.001,0.02,0.1
c t, 0.22, 0.25, .0127, +00, 0.0, 1, .005, .995 # EIB\_IBMS\_M18 @-.04,-0.016,0.1
+ t, rd=0.0127, ag= 90., r=.005, t=.995
+ t, rd=0.0127, ag= 180., r=.005, t=.995
+ t, rd=0.0127, ag= 270., r=.005, t=.995
c srt, 0.22+0.0127, 0.25, .01796, 225., 0., 1, .995, .000 #BS1
c srth, 0.22+0.0127, 0.25, .01796,225., 0., 1, .490, .490 
c d, 0.205, 0.25, .025, 0               # Iris @-0.001,0.02,0.1
h t, 0.205, 0.25, .005, 0               # Iris


d srt, 0.235, 0.2, .0127, -135 , r=.30, t=.7            # EIB\_IBMS\_M19 @0.01,-0.003,0.1
+ t, dm = 0.005
d t, 0.291, 0.202, .0127, +00, f=0.0763         # EIB\_IBMS\_L5 @-.025,-.025,0.1
+ t 
!d t, 0.291+0.057+0.0021, 0.202, .0127, +00, f=-0.0205  # EIB\_IBMS\_L6 @-.025,-.039,0.1
d t, 0.355, 0.202, .0127, +00, f=-0.0205        # EIB\_IBMS\_L6 @-.025,-.039,0.1
+ t 
!c d, 0.5,  0.2, .0031, +00             # Sensor Cam NF @-0.08,0.01,0.15 
!c d, 0.5,  0.2, .0253, +00             # dim Cam1      
c d, 0.525,  0.2, .0031, +00            # Sensor Cam NF @-0.08,0.01,0.15 
c d, 0.525,  0.2, .0253, +00            # dim Cam1      
+ t, r=0.0253, ag=090                   # dim Cam1
+ t, r=0.0253, ag=180                   # dim Cam1
+ t, r=0.0253, ag=270                   # dim Cam1


d r, 0.231, 0.15, .0127, -135   # EIB\_IBMS\_M20 @0.01,-0.003,0.1
+ t, dm = 0.005
d t, 0.2934, 0.15, .0127, +00, f=0.1016         # EIB\_IBMS\_L7 @-.025,-.025,0.1
+ t 
!c d, 0.43, 0.15,  .0031, +00           # Sensor Cam FF @-0.08,0.01,0.15
!c d, 0.43, 0.15, .0253, +00            # dim Cam2
c d, 0.46, 0.15,  .0031, +00            # Sensor Cam FF @-0.08,0.01,0.15
c d, 0.46, 0.15, .0253, +00             # dim Cam2
+ t, r=0.0253, ag=90                    # dim Cam2
+ t, r=0.0253, ag=180                   # dim Cam2
+ t, r=0.0253, ag=270                   # dim Cam2

c t, 0.136, 0.11, .0123, +00, 1.0, 1, .005, .995 # EIB\_IBMS\_M21 @-.04,0.015,0.1
+ t, rd=0.0127, ag= 90., r=.005, t=.995
+ t, rd=0.0127, ag= 180., r=.005, t=.995
+ t, rd=0.0127, ag= 270., r=.005, t=.995
c srt, 0.136+0.0127, 0.11, .01796, -134.3, 0., 1, .995, .000 #PBS3
c srth, 0.136+0.0127, 0.11, .01796,-134.3, 0., 1, .490, .490 
c r, 0.58, 0.11, .0127, +45             # EIB\_IBMS\_M23 @-.095,-0.003,0.1
c d, 0.58, -0.01, .0127, +90            
c r, 0.15, 0.045-0.0032, .0127, 45 ,            # EIB\_IBMS\_M22 @0.01,-0.003,0.1

!d srt, 0.125, 0.40, .0127, -45                 # EIB\_IBMS\_M15 @0.01,-0.003,0.1
!d srt, 0.125, 0.325, .0127, +225       # EIB\_IBMS\_M17 @0.01,-0.003,0.1
!+ t, dm = 0.005
!d srt, 0.175, 0.325, .0127, +45        # EIB\_IBMS\_M18 @-.025,-.025,0.1
!+ t, dm= 0.005 
!c r, 0.175, 0.25, .0127, +45           # EIB\_IBMS\_M19 @0.01,-0.003,0.1
# Wavefront sensor
c d, 0.37, 0.25, .0375, +00,            # WFS @-0.07,-0.01,0.15
+ d, rd=0.06, ag= 090.
+ d, rd=0.0375, ag= 180.
+ d, rd=0.06, ag= 270.
# Scanning Fabry Perot
c d, 0.17, 0.04, .0375, +00,            # SFPC @-0.2,-0.01,0.15
+ d, rd=0.2, ag= 090.
+ d, rd=0.0375, ag= 180.
+ d, rd=0.2, ag= 270.
!d srt, 0.1225, 0.15, .0127, +225       # EIB\_IBMS\_M20 @0.01,-0.003,0.1
!+ t, dm= 0.005

# Far field camera
!d t, 0.175, 0.15, .0127, +00, f=0.175  # EIB\_IBMS\_L4 @-.025,-.025,0.1
!+ t 
!d t, 0.3282, 0.15, .0127, +00, f=-0.025 # EIB\_IBMS\_L5 @-.025,-.025,0.1
!+ t 
!
!c d, 0.525,  0.15, .0031, +00          # Sensor Cam FF @-0.08,0.03,0.15
!c d, 0.5251, 0.15, .0253, +00          # dim Cam1      
!+ t, r=0.0253, ag=090                  # dim Cam1
!+ t, r=0.0253, ag=180                  # dim Cam1
!+ t, r=0.0253, ag=270                  # dim Cam1

# Near field camera
!c r, 0.1225, 0.05, .0127, +45          # EIB\_IBMS\_M11 @-.03,0.01,0.1
!d t, 0.2261, 0.05, .0127, +00, f=0.05  # EIB\_IBMS\_L6 @-.025,-.025,0.1
!+ t 
!
!c d, 0.2795, 0.05,  .0031, +00         # Sensor Cam NF @-0.08,0.03,0.15
!c d, 0.281, 0.05, .0253, +00           # dim Cam2
!+ t, r=0.0253, ag=90                   # dim Cam2
!+ t, r=0.0253, ag=180                  # dim Cam2
!+ t, r=0.0253, ag=270                  # dim Cam2

#------------------------------------------------------------------------------------------------------
#-----------------------------  External Injection Bench 2 --------------------------------------------
#------------------------------------------------------------------------------------------------------

o   -0.027,-12.615 , 0.0   # bottom and left bench coordinates

#      act      xap       yap     rap   phi   cur ior    r    t  # label
d        d,     0.0,     0.14,    .50,  -90,  0.0,icc=1          # Input flange
+       d,dm=.035
h        t,   -0.25,     0.14,   .195,  -90,  0.0,m=5            # Input Window
+       t,dm=.035
h        t,    0.25,     0.14,   .195,  -90,  0.0,m=5            # Output Window
+       t,dm=.035

#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#-------------------------------------  Injection Tower  ----------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

o -0.027, -11.0 , 0.044124 # center of the tower as in VIRGO geometry report
# the bench is rotated so that to be normal to the beam going towards ITF (makes telescope alignment easier)


#------------------------------------------------------------------------------------------------------
#-----------------------------  Suspended Injection Bench1 (Top) --------------------------------------
#------------------------------------------------------------------------------------------------------

# dummy beam for now:
# zt is adjusted by writting the value of z2, wt by writing the value of w0 when propagating the beam from the cavity.
#b     0.013681, 0.0, ag=90.044087, p=100., zt=-3.24745, wt=55.981E-6, zs=-3.24745, ws=55.981E-6
#c  d, 0.013681, -0.00000001, 0.1, -89.955913, 0.0, icc=1 # input beam @ 0.3,-0.05
#+  d, dm=.05

#      act                 xap        yap    rap    phi       cur med      r       t         # label
d        d,          0.0136769,      0.53,  .220,  -90.,      0.0,icc=1                      # BafInj @0.11,-0.03,0.12
+        d,dm=0.01
h        t,          0.0136769,      0.53,  .070,  -90.,      0.0,  0                        # BafInj
+        t,dm=0.01
c        t,          0.0136769,  0.300000,  .075, - 90., 0,  3,     0,      1         # TST @.08,-.02,0.12
d        t,          0.0136769,  0.339200+2.6e-3,  .075, - 90., -1/1.07271,  3,     0,      1         # SIB1\_L1 @.08,-.02,0.12
+        t,dx=.025,r=.0,t=1., rc=3.19525


# Telescope to get a beam waist of 2.57mm
d        r,-0.13428278,    -0.3811,  .075,  -90., -1/1.275,  9,     1,0,sh=0,zr=.1479 # SIB1\_M1 @-.13,-.03,0.12
+        d,dx=.03
d        r, -0.1342856,     0.33165, .0175,   90., -1/0.15048,  9,     1,0,sh=0,zr=.0175 # SIB1\_M2 @.02,-.02,0.12
+        d,dx=.015
!d    {srt}, -0.1498726,     -0.349787,  .025,-104.5,      0.0,  3,  .999,   .001         # SIB1\_M3 @.03,.0,0.12
d    {srt}, -0.1498726,     -0.349787,  .025,-104.5,      0.0,  3,  .999,   .001         # SIB1\_M3 @.03,.0,0.12
+        t,da=179,dm=0.0125,r=.001,t=.999



d        d,             -0.247-0.829*2.5e-3,    -0.4+0.5592*2.5e-3,  .0775,  90-34,      0.0,icc=1                      # SIB1\_BD5 @-.07,-.02,0.12
+        d,dm=.003
h        t,             -0.247,    -0.4, .055/2,  90-34,      0.0,icc=1                      # SIB1\_BD5
+        t,dm=.003

d        r,              0.225,     0.330,  .025,  75.5,      0.0,  3,  .999,   .001         # SIB1\_M4 @-.08,.005,0.12
+        d,dm=0.0125,da=179
d        r,              0.225,    -0.275,  .025, -135.,      0.0,  3,  .999,   .001         # SIB1\_M5 @.01,.015,0.12
+        d,dm=0.0125,da=179
d    {srt},              0.350,    -0.275,  .025,  -45.,      0.0,  3,  .999,   .001         # SIB1\_M6 @.03,.015,0.12
+        t,da=179,dm=0.0125,r=.001,t=.999
c     tsrt,              0.350,     0.167,  .025,  135.,      0.0,  3,  .05,    .95         # Pola\_B2
c       rd,              0.350,     0.370,  .020,   45.,      0.0,  3,  .999,   .001         # SIB1\_M7 @0.03,.0,0.12
c       vt,              0.350,     0.350, .0125,  90.0,      0.0,  3,   0, 1, vp=0.342 # Comp. vert. @ -0.03,.02,0.12

# All SIB beam dumps:
d        d,          0.0136769,    -0.415,  .075,  -90.,      0.0,icc=1                      # SIB1\_BD1 @-.03,-.02,0.12
+        d,dm=.003
d        d,             -0.152,     0.350,  .025,   90.,      0.0,icc=1                      # SIB1\_BD2 @-.03,.01,0.12
+        d,dm=.003
d        d,             -0.152,     0.200,  .022,  -90.,      0.0,icc=1                      # SIB1\_BD3 @-.07,-.02,0.12
+        d,dm=.003
h        t,             -0.152,     0.200, .0075,  -90.,      0.0,icc=1                      # SIB1\_BD3
+        t,dm=.003
d        d,             -0.152,    -0.200,  .050,  -90.,      0.0,icc=1                      # SIB1\_BD4 @-.07,-.02,0.12
+        d,dm=.003
h        t,             -0.152,    -0.200, .0075,  -90.,      0.0,icc=1                      # SIB1\_BD4
+        t,dm=.003
!d        d,             -0.180,    -0.400,  .025,  180.,      0.0,icc=1                      # SIB1\_BD5 @-.04,-.04,0.12
!+        d,dm=.003
d        d,              0.131,     0.161,  .025,   61.,      0.0,icc=1                      # SIB1\_BD6 @-.08,-.01,0.12
+        d,dm=.003
h        t,              0.131,     0.161, .0075,   61.,      0.0,icc=1                      # SIB1\_BD6
+        t,dm=.003
d        d,              0.230,     0.345, .0250,  75.5,      0.0,icc=1                      # SIB1\_BD7 @-.03,.01,0.12
+        d,dm=.003
d        d,              0.215,    -0.285,  .025, -135.,      0.0,icc=1                      # SIB1\_BD8 @-.06,-.02,0.12
+        d,dm=.003
d        d,              0.380,    -0.295,  .025,    0.,      0.0,icc=1                      # SIB1\_BD9 @.01,-.01,0.12
+        d,dm=.003
d        d,              0.155,    -0.220, .0125,  -70.,      0.0,icc=1                      # SIB1\_BD10 @-.03,-.02,0.12
+        d,dm=.003
d        d,              0.125,     0.063,  .025,   0.0,      0.0,icc=1                      # SIB1\_BD11 @-.02,-.04,0.12
+        d,dm=.035

# bench diameter = 88cm, meniscus lens at 10cm from the top of the bench to cover dynamics = +/-5cm.
# RoC of PRM and L1 curvatures were optimized by Eric to get more than 99.9% matching. Telescope designed so that waist is 2.57mm at .33m of M2.


#Retro-beam to look at the EIB-Telescope's input beam
!b   -0.245, 0.433, ag=-90-105.79e-3, p=100., zt=414.8E-3, wt=5.0986E-3, zs=421.9E-3, ws=5.0986E-3

c         d,  -0.245,   0.435,  .025,         90,      0.0,  3,    0.999,    0.001 # SIB1\_M13 @-0.09,-.01,0.12
d         r,    0.14,  -0.063,  .050,         45,      0.0,  3,    0.999,    0.001 # SIB1\_M14 @.0,.02,0.12
+         d,dm=0.0127, da=170
c         d,   0.299,  -0.400, .0250,        0.0,      0.0,  3,     .999,    0.001 # SIB1\_M24 @ -0.03,-.04,0.12
c         vt,   0.32,  -0.400, .0250,        0.0,      0.0,  3,     1, 0, vp=0.3 # Comp. vert. @ -0.03,.02,0.12

d        d,-0.300,      0.000,0.005,          0.0,  200.0,icc=1    # wire1
+       d,  dm=0., c=200.
d        d, 0.150,     0.2598,0.005,          0.0,  200.0,icc=1    # wire2
+       d,  dm=0., c=200.
d        d, 0.150,    -0.2598,0.005,          0.0,  200.0,icc=1    # wire3
+       d,  dm=0., c=200.

o -0.027, -11.0 , -0.018570 # center of the tower and tilt adjusted to get the beam centered on the IMC flat mirrors
# this angle can be adjusted independently of the bench one so that if the POP wedge is changed, the bench has to be rotated 
# consequently and the dihedron angle should be compensated, as well as SIB1_M11
# (64/143500)*180/pi-0.044124=-0.018570
# on IMC2 flat mirror, beam centered on mirrors means rd=7.988mm

#      act       xap        yap    rap        phi      cur med      r       t  # label
d      str,   -0.250,    0.0375,  .053,   45.0086,     0.0,  3,.997500,.002500 # IMC2 @-.06,.05,0.12
+     tsrt,dm=0.03,r=.0001,t=.9999
c   crtstr,  -0.2393,   -0.0267,  .068,  -45.0086,     0.0,  3,.997500,.002500 # IMC1 @-.07,-.07,0.12
+        d,rd=0.015,da=90.
+      srt,rd=.053,r=.0001,t=.9999


###########Fake backwards IMC
#      act       xap        yap    rap        phi      cur med      r       t  # label
!c   crtstr,   -0.250,    0.0375,  .053,   45.0086,     0.0,  3,.997500,.002500 # IMC2 @-.06,.05,0.12
!+        d,rd=0.015,da=90.
!+      srt,rd=.053,r=.0001,t=.9999
!d   str,  -0.2393,   -0.0267,  .068,  -45.0086,     0.0,  3,.997500,.002500 # IMC1 @-.07,-.07,0.12
!+  tsrt,dm=0.03,r=.0001,t=.9999

# fake beam just before the input of IMC
#b   -0.245-0.00154374, -0.2999999999999, ag=90.0-44.1477E-3, p=100., zt=0.3, wt=5.174E-3, zs=0.3, ws=5.174E-3
#c        d, -0.245-0.00154374,  -0.300,   .01,  -90.0-44.1477E-3,      0.0,  3, .999,   .001 # input beam @ -0.03,-.02,0.12
# fake beam just before the input of IMC to send towards the EIB
#b   -0.245-0.00154374, -0.2999999999999, ag=90.0-44.1477E-3+180., p=100., zt=-0.3, wt=5.174E-3, zs=-0.3, ws=5.174E-3


o -0.380, -11.0 , 5.0 # baffle tilted by 5 degrees
d        d,  .0,   0.0,  .130,  0.,      0.0,icc=1    # BafIMC @-0.06,0.0,0.12
+        d,dm=0.004
h        t,  .0, 0.043,  .020,  0.,      0.0,  0      # BafIMC
+        t,dm=0.004
h        t,  .0,-0.043,  .020,  0.,      0.0,  0      # BafIMC
+        t,dm=0.004



#------------------------------------------------------------------------------------------------------
#---------------------------- Suspended Injection Bench1 (Below) --------------------------------------
#------------------------------------------------------------------------------------------------------

o -0.027-100, -11.0-100, 0.044124

# warning: the optical path through the telescope is 0 (difference from real setup)

#      act      xap      yap    rap        phi       cur med     r       t # label
c        d,   0.350,   0.369,   .01,      45.0,      0.0,  3, .999,   .001 # SIB1\_M8 @ -0.02,-.04,0.12
d        t,   0.250,   0.370, .0125,      180.,      0.0,icc=1             # SIB1\_WP1 @-0.03,-.04,0.12
+        t,  dm=0.002
d        r,  -0.175,   0.370,  .025,     175.0,      0.0,  3, 1,   0 # SIB1\_M9 @-.04,.03,0.12
+        d,dm=0.0125, da=179
d        r,   0.334,   0.280,  .025,      -5.0,      0.0,  3, 1,   0 # SIB1\_M10 @-.03,-.05,0.12
+        d,dm=0.0125, da=179

# SIB1_L2 and L3 adjusted to give approx. w2=2.55mm w0=2.51mm and z2=3.59 w.r.t. SIB1_M3. These are the values
#Zemax presents for good MM onto the PRC / arms. So these should be a good starting point for MM here.
d        t,-0.104+0.144+0.0024-0.010,   0.280+23.767e-6,  .025,       0.0,      0.0,  1,  0.0,    1.0 # SIB1\_L2 @-.03,-.05,0.12
+        t,dx=.002,c=-1/0.0644
d        t,  -0.104-0.010-0.0001,   0.280+23.72e-6, .0254,       0.0,  1/0.130,  1,  0.0,    1.0 # SIB1\_L3 @-.03,-.05,0.12
+        t,dx=.0064

d    {srt}, -0.2452,   0.280,  .025,225.053425,      0.0,  3, .990,   .01 # SIB1\_M11 @-.03,-.05,0.12
+        t,dm=0.0125, da=179
c        r,  -0.245,   0.436,  .025,      90.0,      0.0,  3, .999,   .001 # SIB1\_M12 @-.09,-.01,0.12
c       vt,   -0.245,  0.425, .0125,  90.0,      0.0,  3,   0, 1, vp=0.342 # Comp. vert. @ -0.03,.02,0.12
d        r,  -0.249,   0.200,  .025,   -44.945+0.4,      0.0,  3, .999,   .001 # SIB1\_M15 @-.03,-.04,0.12
+        t,dm=0.0125
d        r,  -0.338,   0.200,  .025,135.001579+0.0,      0.0,  3, .999,   .001 # SIB1\_M16 @-.06,.02,0.12
+        t,dm=0.0125


d        t,  -0.338, 0.0323,  .025,     -90.0, f=0.2542,  m=5,  r=0.0,    t=1.0 # SIB1\_L4 @-.08,-.005,0.12
+        t,dm=.0064, c=0
d        t,  -0.338,   -0.1827-0.005, .0125,     -90.0,      0.0,  5,  0.0,    1.0 # SIB1\_L5 @-.07,-.005,0.12
+        t,dm=.002,f=-0.0387


d      srt,  -0.338,  -0.225, .025,      -135,      0.0,  3,   .8,     .2 # SIB1\_M17 @-.08,-.01,0.12
+        t,dm=0.007
d        t,  -0.200,  -0.225, .0125,       0.0,      0.0,icc=1             # SIB1\_WP3 @-0.03,-.03,0.12
+        t,dm=0.002
c        t,   0.200,  -0.225, .0125,       0.0,      0.0,  1,  0.0,    1.0 # SIB1\_PBS1 @-0.01,.015,0.12
+        t, rd=0.0125, ag= 090., r=.0, t=1.
+        t, rd=0.0125, ag= 180., r=.0, t=1.
+        t, rd=0.0125, ag= 270., r=.0, t=1.
c      srt,  0.2125,  -0.225,.01793,        45,      0.0,  1,   .5,     .5
c        t,   0.150,  -0.225, .0125,       0.0,      0.0,  1,  0.0,    1.0 # SIB1\_PBS2 @-0.04,.015,0.12
+        t, rd=0.0125, ag= 090., r=.0, t=1.
+        t, rd=0.0125, ag= 180., r=.0, t=1.
+        t, rd=0.0125, ag= 270., r=.0, t=1.
c      srt,  0.1625,  -0.225,.01793,        45,      0.0,  1,   .5,     .5
d        r,   0.285,  -0.225, .0025,       -45,      0.0,  3, .999,   .001 # SIB1\_M18ab @-.03,-.03,0.12
+        t,dm=0.002
d        t,   0.285,  -0.170, .0125,      90.0,      0.0,  1,  0.0,    1.0 # SIB1\_L7 @0.02,-.005,0.12
+        t,dm=.003
d        t,   0.285,  -0.030, .0125,      90.0,      0.0,  5,  0.0,    1.0 # SIB1\_L7real
!+        t,dm=.003,c=1/0.21
+        t,dm=.003,f=0.4066
c        r,   0.285,   0.115, .0125,      45.0,      0.0,  3, .999,   .001 # fake
c        r,   0.185,   0.115, .0125,     135.0,      0.0,  3, .999,   .001 # fake
c        d,   0.185,  -0.075, .0125,     -90.0,      0.0,  3, .999,   .001 # PDPstabbox
d        r,  -0.341,  -0.275, .0125,      -134.945,      0.0,  3, .999,   .001 # SIB1\_M19 @-.08,-.01,0.12
+        t,dm=0.007
d        t,  -0.200,  -0.275, .0125,       0.0,      0.0,icc=1             # SIB1\_WP2 @-0.03,-.03,0.12
+        t,dm=0.002
d        r,-0.051398, -0.275, .0125,  -44.25672-80e-6,      0.0,  3, .999,   .001 # SIB1\_M20 @-.03,-.03,0.12
+        t,dm=0.007
d        r,   0.070,  -0.165, .0125,        45,      0.0,  3, .999,   .001 # SIB1\_M21 @-.03,.02,0.12
+        t,dm=0.007
d        r,   0.070,  -0.400, .0125,      -135,      0.0,  3, .999,   .001 # SIB1\_M22 @-.03,-.04,0.12
+        t,dm=0.007
d        t,   0.140,  -0.40214, .0125,      0,      0.0,  3, .0,   1.   # SIB1\_WP4 @-.03,-.04,0.12
+        t,dm=0.007
!d        t,   0.200,-0.40214, .0125,       0.0,     f=0.8134, c=0,  m=5,  r=0.0,    t=1.0 # SIB1\_L6 @-.03,-.03,0.12
d        t,   0.200+33e-3,-0.40214, .0125,       0.0,     c=0,  m=5,  r=0.0,    t=1.0 # SIB1\_L6 @-.03,-.03,0.12
+        t,dm=.0038, c=1/0.4121
c        d,   0.300,  -0.400, .0125,       0.0,      0.0,  3, .999,   .001 # SIB1\_M23 @ -0.03,-.04,0.12


d        d,  -0.195,   0.370,  .025,     175.0,      0.0,icc=1             # SIB1\_BD12 @-.03,-.04,0.12
+        d,dm=.003
d        d,   0.355,   0.280,  .025,      -5.0,      0.0,icc=1             # SIB1\_BD13 @.01,.0,0.12
+        d,dm=.003
d        d,  -0.280,   0.280,  .025,       0.0,      0.0,icc=1             # SIB1\_BD14 @-.05,.03,0.12
+        d,dm=.003
d        d,  -0.210,  -0.165, .0125,       0.0,      0.0,icc=1             # SIB1\_BD15 @-.05,-.03,0.12
+        d,dm=.003
d        d,  0.1875,  -0.275,   .05,     -90.0,      0.0,icc=1             # SIB1\_BD16 @-.04,-.04,0.12
+        d,dm=.02

d  crtstr, 0.0079-0.065,  -0.165,  .010, -44.284,      0.0,  3,.999, .00005 # SIB1\_RC1 @.01,.005,0.08
+       t,  dm=0.007,r=.001000,t=.999000
d     str,-0.0079-0.065,  -0.165,  .010, 224.284,      0.0,  3,.999, .00005 # SIB1\_RC2 @-.05,.005,0.08
+       t,  dm=0.007,r=.001000,t=.999000
d       r,  0.000-0.065,   0.151, .0125,      90,    -1/.5,  3,.999, .00005 # SIB1\_RC3 @-.03,.015,0.12
+       d,  dm=0.007

#c       d,   -0.0175,  -.15, .0075,     90       # ref. cavity @.11,.08,0.12
#+       d,  rd=.057,da=-55
#+       d,  rd=.0566,da=-90
#+       d,  rd=.057,da=-125
#+       d,  rd=.0075,da=-180
#c       d,   0.0175, -0.15, .0075,     90.0
#+       d,  rd=.150,da=-90
#+       d,  rd=.0075,da=-180
#+       d,  rd=.057,da=-235
#+       d,  rd=.0566,da=-270

#------------------------------------------------------------------------------------------------------
#---------------------------- External Reference Cavity Bench -----------------------------------------
#------------------------------------------------------------------------------------------------------

o -100.9861 , -113.1 , 0.0

#      act      xap      yap    rap      phi   cur med   r   t # label
d        d,   0.770,   0.625,    1.,   -90.0,  0.0,icc=1       # Flange
+       d,  dm=.035
h        t,   0.850,   0.625,   .08,   -90.0,  0.0,m=5         # Window ERCB (new position AdV)
+       t,  dm=.035

d        r,   0.845,   0.210, .0125,   -46.0,  0.0,  1,.99,.01 # ERCB\_M1 @-.05,-.04,0.15
+       d,  dm=0.006
d        t,   0.610,   0.210, .0125,   180.0,f=0.5             # ERCB\_L1 @-.03,.02,0.15
+       t, dm=.002
d      srt,   0.540,   0.210, .0125,     158,  0.0,  1,.99,.01 # ERCB\_M2 @-.07,-.04,0.15
+       t,  dm=0.006
d        d,  0.610,    0.140,  .025,     -45                   # RFC\_DT @-.04,-.05,0.15
+       d,  dm=0., rd=.016,  c=62.5,icc=icpd
d        d,  0.430,    0.210,  .035,     180                   # RFC\_TrBeam @-.12,-.01,0.15
+       d,  dm=0.02,icc=iccam


#------------------------------------------------------------------------------------------------------
#---------------------------- Suspended Injection Bench2 ----------------------------------------------
#------------------------------------------------------------------------------------------------------

#o -0.027+2.835, -11.0-0.35, 0.0 # position of center of SIB2 is set wrt center position of SIB1 (Paoli position)
o -0.027+3.085, -11.0, 0.000 # position of center of SIB2 is set wrt center position of SIB1 
#(Mours position, x shifted by 0.25 tow east, y shifted by 0.35 tow north)

i MINITOWER3, 0, 0, 90 #minitSIB2

#      act                 xap        yap    rap       phi       cur med      r       t         # label
d        d,             -0.640,     0.169,  .070,      0.0,      0.0,icc=1                      # SIB2\_BD1 @-.06,.075,0.12
+        d,dm=.01
h        t,             -0.640,     0.169,  .020,      0.0,      0.0,icc=1                      # SIB2\_BD1
+        t,dm=.01

!b   -0.63, 0.169, ag=0.05, p=100., w=2480e-6, z=-1.54 # FAKE BEAM

d        r,             -0.570,  0.168949, .0325, 45.02205,      0.0,  3,  .99999,   .00001         # SIB2\_M1 @-.03,.035,0.12
+        d,dm=0.0125
d        d,             -0.570,    -0.50,  .050,    -90.0,      0.0,icc=1                      # SIB2\_BD2 @.01,.01,0.12
+        d,dm=.01
h        t,             -0.570,    -0.50,  .020,    -90.0,      0.0,icc=1                      # SIB2\_BD2
+        t,dm=.01
d        r,             -0.570,    -0.575,  .025,    -135.,      0.0,  3,  .99999,   .00001         # SIB2\_M2 @-.04,-.045,0.12
+        d,dm=0.0125
c      srt,             -0.300,    -0.575,  .025,     -45.,      0.0,  3,    .9,     .1         # Pol\_IPC3
d        rn,             -0.300,    -0.575+0.15+12e-3,  .025,     180-38.25,      0.0,  3,  .99999,   .00001         # SIB2\_M3 @-.03,.03,0.12
+        n,dm=0.0125

d        d,              0.800,    -0.150,  .050,      0.0,      0.0,icc=1                      # SIB2\_BD3 @.00,-.08,0.12
+        d,dm=.1

d      srt,             -0.11,    -0.575,  .025,     -45.,      0.0,  3,    .8,     .2         # SIB2\_M4 @-.04,-.045,0.12
+        t,dm=0.01,da=179
d        t,             -0.11,    -0.46,  .025,      90.,   1/0.20,  1,  0.0,     1.0         # SIB2\_L1 @.03,-.005,0.12
+        t,dm=.003
d      srt,             -0.11,    -0.27,  .025,      45.,      0.0,  3,   .98,    .02         # SIB2\_M5 @.03,-.005,0.12
+        t,dm=0.01,da=179
d        d,             -0.11,    -0.06,  .050,      90.                                      # Cam2 @-0.03,0.04,0.12
+        d,dm=0.1,icc=iccam
d      srt,             -0.2,    -0.27,  .025,    -135.,      0.0,  3,    .5,     .5         # SIB2\_M6 @-.03,-.045,0.12
+        t,dm=0.01,da=179
i        PD,             -0.2,    -0.1941,    90.                                      # B2\_d1 @-0.03,0.04,0.12
i        PD,             -0.310+0.0341,    -0.275,   180.                                      # B2\_d2 @-0.08,-0.005,0.12
d      srt,              0.400,    -0.570,  .025,  -44.595,      0.0,  3,    .5,     .5         # SIB2\_M7 @-.04,-.045,0.12
+        t,dm=0.0125,da=181
d        t,              0.400,    -0.477831,  .025,      90., f=0.6875,  m=5,  r=0.0,     t=1.0         # SIB2\_L2 @.03,.0,0.12
+        t,dm=.0064
d        t,              0.400,       -0.0441027, .0125,      90.,      0.0,  5,  0.0,     1.0         # SIB2\_L3 @.03,.0,0.12
+        t,dm=.0031,f=-0.3436
d        r,              0.400,     0.450, .0063,      45.,      0.0,  3,  .999,   .001         # SIB2\_M8 @.01,.015,0.12
+        t,dm=0.0125

# The outputs here are near-identical at Q21, but the x-values are not!! By 0.0373 meters
!i      QPD,              0.1327726+0.0373,     0.450,   180.                                      # Q21 @-.08,-0.005,0.12
i      QPD,              0.1327726+0.03795,     0.450,   180.                                      # Q21 @-.08,-0.005,0.12
!i      QPD,              0.1894-0.01864-0.03725-7.373999999997771e-04,     0.450,   180.                                      # Q21 @-.08,-0.005,0.12


d        r,              0.550,    -0.575,  .025,     -45.,      0.0,  3,  .999,   .001         # SIB2\_M9 @-.04,-.045,0.12
+        t,dm=0.0125

d        t,              0.550,    -0.2873366,  .025,      90., f=0.6875,  m=5,  r=0.0,     t=1.0         # SIB2\_L4 @.03,.0,0.12
+        t,dm=.0064
d        t,              0.550,     0.013832, .0125,      90.,      0.0,  1,  0.0,     1.0         # SIB2\_L5 @.03,.0,0.12
+        t,dm=.0039,f=-1.1456

d        r,              0.550,     0.575, .0063,      45.,      0.0,  3,  .999,   .001         # SIB2\_M10 @.01,.015,0.12
+        t,dm=0.0125
!i      QPD,             0.43943-60e-3+0.079172--6.85e-04,     0.575,    180.                                      # Q22 @-.08,-0.005,0.12
i      QPD,             0.458587,     0.575,    180.                                      # Q22 @-.08,-0.005,0.12

!b   -0.5,-0.4, ag=0.0, p=100., w=616.558e-6, z=-3.22859 # FAKE BEAM
d      srt,             -0.500,    -0.400, .0325,     -45.,      0.0,  3,    .8,     .2         # SIB2\_M11 @-.04,-.05,0.12
+        t,dm=0.015,da=181
d        r,             -0.500,     0.575,  .025,     135.,      0.0,  3,  .999,   .001         # SIB2\_M12 @-.04,.03,0.12
+        d,dm=0.0125
d        t,             -0.400,     0.575,  .025,       0.,   1/0.17,  1,  0.0,     1.0         # SIB2\_L6 @-.05,-.05,0.12
+        t,dm=.003
d      srt,             -0.300,     0.575,  .025,      45.,      0.0,  3, .98,    .02         # SIB2\_M13 @-.04,.03,0.12
+        t,dm=0.01,da=181
d        d,             -0.050,     0.575,  .050,       0.                                      # CamRFCref @.005,-.01,0.12
+        d,dm=0.1,icc=iccam
d      srt,             -0.300,     0.475,  .025,    -135.,     0.0,  3,    .5,      .5         # SIB2\_M14 @.01,-.05,0.12
+        t,dm=0.01,da=181
i        PD,             -0.1841,     0.475,    0.                                      # RFCref1 @0.01,-0.005,0.12
i        PD,             -0.305,      0.3591,  -90.                                      # RFCref2 @-0.04,-0.06,0.12
d      srt,              0.100,    -0.4126,  .025,   -45.3597,     0.0,  3,    .5,      .5         # SIB2\_M15 @-.04,-.045,0.12
+        t,dm=0.0125,da=179
d        t,              0.100,    -0.2163451,  .025,     90., f=0.572,  m=5,   r=0.0,     t=1.0,        # SIB2\_L7 @.03,.0,0.12
+        t,dm=.0064, c=0
d        r,              0.100,     0.150, .0063,      45.,      0.0,  3,  .999,   .001         # SIB2\_M16 @.01,.015,0.12
+        t,dm=0.0125
d        d,             -0.1106731,     0.150,  .050,     180.                               # QRFCref1 @-.08,-0.005,0.12
+       d,dm=0.1,icc=icqpd
d        r,              0.250,    -0.4168,  .025,   -44.964635,     0.0,  3,  .999,    .001         # SIB2\_M17 @-.04,-.045,0.12
+        t,dm=0.0125
d        t,              0.250,    -0.22806114,  .025,      90.,f=0.401,  m=1,  r=0.0,     t=1.0         # SIB2\_L8 @.03,.0,0.12
+        t,dm=.0064, c=0
d        t,              0.250,    0.1103694,  .0127,      90.,f=-0.1145, c=0,  m=1,  r=0.0,     t=1.0         # SIB2\_L9 @.03,.0,0.12
+        t,dm=.0064


#      act                 xap        yap    rap       phi       cur med      r       t         # label
d        r,              0.250,     0.300, .0063,      45.,      0.0,  3,  .999,   .001         # SIB2\_M18 @.01,.015,0.12
+        t,dm=0.0125

d        d,              -0.0356584,     0.300,  .050,     180.                               # QRFCref2 @-.08,-0.005,0.12
+       d,dm=0.1,icc=icqpd

d        d, 0.0,0.0,0.005,0.0,200.0,icc=1 # unique wire
+       d,dm=0.,c=200.


#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#-------------------------------------  Mode Cleaner Tower  -------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

#o  -143.699 , -11.064 , 0.0 # center of the tower as in VIRGO geometry report (Virgo, 832 mm correction included)
#o  -143.867 , -11.064 , 0.0 # center of the tower as in VIRGO geometry report (Virgo+, after shift by 168mm)
o   -143.709 , -11.064 , 0.0 # AdV new tower position (to get a half round trip of 143.424)

#   act     xap  yap   rap                     phi        cur med        r        t # label
d   str,  0.045, 0.0,.0725,180.0+0.025554,    -1/184.5,  m=3,r=0.999999,t=0.000001 # IMCend @ -0.20, 0.3
+    t,dm=0.09

d     d,  0.10, 0.120, .050, 3,  0.0,icc=1  # IMC baffle
+     d,dm=.005
d     d,  0.10,-0.120, .050,-3,  0.0,icc=1  # IMC baffle
+     d,dm=.005

# the IMC end mirror tilt angle is equal to 180 
# + bench tilt wrt geometry report reference axis (to align telescope onto ITF axis) 
# - dihedron tilt wrt geometry report reference axis (to put dihedron on the triangle axis of the cavity)

#------------------------------------------------------------------------------------------------------
#---------------------------- External Mode Cleaner Bench ---------------------------------------------
#------------------------------------------------------------------------------------------------------

#o -145.700,-11.365 , 0.0   # bottom and left bench coordinates (832 mm correction)
o  -145.709,-11.365 , 0.0   # AdV new bench position

#      act      xap    yap     rap      phi   cur ior    r    t  # label
d        t,   0.280,  0.30,   0.045,     180,f=0.2                # EMCB\_L1 @-.05,-.06,0.15
+       t,dm=0.003
!d        r,   0.200,  0.30,   3*0.0125,   135.0,  0.0,  1, .99, .01  # EMCB\_M1 @-.08,.02,0.15
d        r,   0.180,  0.30,   3*0.0125,   135.0,  0.0,  1, .99, .01  # EMCB\_M1 @-.08,.02,0.15
+       d,dm=0.006
d        d,   0.180,  0.17,   .025,     -90,                     # IMCTra\_DT @-0.04,-0.12,0.15
+       d,dm=0.1,icc=icqpd




#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#-------------------------------------  Power Recycling Tower  ----------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

#o -0.002295 ,-6.00285, 0.0  # center of the tower as in VIRGO geometry report
o -0.017,-6.085, 0.0         # AdV new tower position

#        act        xap     yap   rap         phi        cur med     r   t # label
d   actionPRMfront, -0.000147,  0.050, .175,-89.9558736+15e-7,       -1/1431.4,  1,  .95,.05 # PRM @.3,-0.15
 +   actionPRMback,  dm=.1, r=.0, t=1., rc=3.620


#        act         xap    yap   rap        phi         cur med      r  t # label
c   actionPOPfront,  -0.001348, 0.145, .175,-84.000000,     0,  1, r= 300e-6 # POP @ 0.3, -0.05
 +               d,  rd=0.0175, da=90.,        r=0.0,    t=1.0
 +   actionPOPback,  rd=0.175,  da=179.942705, r=100e-6


#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------  Beam Splitter Tower  -------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

#o 0.000 , 0.0179 , 0.0  # center of the tower as in VIRGO geometry report
o  0.003 , 0.023  , 0.0  # Center of the BS substrate (+/-1mm)

#                act       xap       yap   rap        phi  cur med    r    t # label
c     actionBSfront, -0.023226,-0.023008, .275, 45.009054, 0.0,  1, .50, .50 # mirBS  @ -.6, .5
 +                d,  rd=0.0325, da=90.,        r=0.0, t=1.0                 # mirBS rim SE
 +     actionBSback,  rd=0.275,  da=180.022918, r=.05, t=.95                 # mirBS second face

!d        d,   0.200,        0.0,     0.10, 0., icc=1 #BeamViewer @-0.02,-.02,0.12
!  +      d,   dm=0.002


#d        d,  0.046,  0.046, .650, -135,  icc=1 # dump diaphragm
#+        d,dm=.01
#h        t,  0.046,  0.046, .260, -135,  m=8 # dump diaphragm
#+        t,dm=.01

#d        d, -0.046, -0.046, .650,   45,  icc=1 # dump 
#+        d,dm=.01
#h        t, -0.046, -0.046, .260,   45,  m=8 # dump diaphragm
#+        t,dm=.01

#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------  West Input Tower  ----------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

o -5.600 ,  0.00 , 0.0  # center of the tower as in VIRGO geometry report

#         act       xap    yap   rap        phi      cur med      r      t # label
c  actionWIfront,  -0.100,   0.0, .175, 0.0000000, -1/1420,  1, .986,   .014 # mirWI @ -0.05, .3
 +             d,  rd=0.100, da=-90.,               r=0.0,   t=1.0           ! phi tobetuned
 +  actionWIback,  rd=0.175, da=-180.0, rc=1420.2,  r=.0001, t=0.9999

# Compensating plate: tilt of 750 microrad.  Wedge of 20 +- 10 microrad, not put in Optocad due to alignment fine-tuning.
# The wedge would be added by da=-180+0.0011459 on the second face.
#         act      xap    yap   rap        phi         cur med      r      t # label
c  actionWICPfront,  0.300,     0.0, 0.175, -0.0429718, 0,  1, .0005, .9995  # WICP @ -0.05, .3
 +               d,  rd=0.0175, da=-90.,  r=0.0, t=1.0                        
 +  actionWICPback,  rd=0.175,  da=-180,  r=0.0, t=1.0


#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#-------------------------------------  West End Tower  -----------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

o -3005.6 , 0.00 , 0.0  # center of the tower as in VIRGO geometry report

# dummy beam for alignment purpose:
#b  .1, 0.0, ag=0, p=10., zt=1636.0851, wt=0.0096866832, zs=1636.0851, ws=0.0096866832

#     act     xap    yap    rap   phi      cur med     r        t  # label
d     actionWEfront,  0.1,   0.0, 0.175, 180., -1/1683,  1, .999999,0.000001  # mirWE @ -0.3, 0.3
 +     actionWEback,   dm=.2, r=.0, t=1.

# beam dump
!c       d,  -3.,  0., 0.2,  0.0, 0.0, icc=1
!+       d,  dm=.05

#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#-------------------------------------  North Input Tower  --------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

#o 0.0 , 6.400 , 0.0  # center of the tower as in VIRGO geometry report
o  0.0 , 5.774 , 0.0  # AdV new tower position

#         act    xap     yap   rap  phi      cur med      r    t # label        
c     actionNIfront,     0,    0.1, .175, -90., -1/1420,  1,   .95, .05 # mirNI @ 0.3, -0.15
 +                d, rd=0.1,   da=90.,              r=0.0,   t=1.0     ! phi tobetuned
 +     actionNIback, rd=0.175, da=180.0, rc=1420.2, r=.0001, t=0.9999

!# Dummy beam coming from North cavity
!b  .0+1.349e-3, -0.1, ag=-90-1.2157e-6, p=10., zt=-1.40e3, wt=0.04842, zs=-1.40e3, ws=0.04850
  

#         act    xap     yap   rap  phi      cur med      r    t # label        
c   actionNICPfront,     0,   -0.3, .175, -89.9570282,  0,  1, .0005, .9995 # NICP @ 0.3, -0.15
 +                d,  rd=0.0175, da=90., r=0.0, t=1.0                        
 +   actionNICPback,  rd=0.175,  da=180, r=0.0, t=1.0


#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------- North End Tower  -----------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

#o 0.0  ,  3006.400 , 0.0  # center of the tower as in VIRGO geometry report
o  0.0  ,  3005.774 , 0.0  # AdV new tower position

# dummy beam for alignment purpose:
#b  .0, -0.1, ag=-90, p=10., zt=1636.0851, wt=0.0096866832, zs=1636.0851, ws=0.0096866832

#     act   xap     yap    rap  phi      cur med      r         t    # label
d    actionNEfront,  0.0,   -0.1, 0.175, 90., -1/1683,  1,  .999999, 0.000001 # mirNE @ 0.3, 0.05
 +    actionNEback,  dm=.2,  r=.0,  t=1.

# beam dumps
!c       d,  0.,  3., 0.2, 90.0, 0.0, icc=1
!+       d,  dm=.05

#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------  Signal Recycling Tower  ----------------------------------------
#------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------

#o  6.000, 0.0202, 0.0    # center of the tower as in VIRGO geometry report
o  6.044, 0.018, 0.0    # AdV new tower position

#        act     xap       yap   rap       phi        cur med  r  t # label
d    actionSRfront, -0.050, 0.000377, .175,-0.018127, -1/1430.3,  1,.8,.2 # SRM @ -0.15, .3
 +    actionSRback, dm=.1, r=.0, t=1., rc=3.620                           ! SRM\_AR  !Same AR RoC as for PR
#c    d, -0.040, 0.000377, .175,-0.018127, -1/1430.3,  1,.8,.2 # DUMP @ -0.15, .3
# !!!!! need to update OSD with new RoC of SR!!!

!d        d,   0.250,        0.0,     0.10, 0., icc=1 #BeamViewer @-0.02,-.02,0.12
!  +      d,   dm=0.002




!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!---------------------------------------  Detection Tower  --------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

!o  11.000  , -0.0015 , 0.0            # center of the tower as in VIRGO geometry report
!o  10.971,    -0.002-0E-6,  -18.1285720E-3+0*5.729577951E-3  #AdV new tower position
!!o  10.971,    -0.002,  -18.1285720E-3-8.30793e-6  #AdV new tower position
!o  10.971,    -0.002 -20e-6  ,  -18.13687993e-3 +2.1e-3  #AdV new tower position, with fine-tuning for alignment on MMT L1
!o  sdb1_x0,    sdb1_y0,  -18.13687993e-3  #AdV new tower position, with fine-tuning for alignment on MMT L1

o  sdb1_x0,    sdb1_y0-350e-6,  -0.00749  #AdV new tower position, with fine-tuning for alignment on MMT L1 vertical configuration ?

# AdV new tower position (no lateral displacement wrt Virgo).  Angle adjusted to have the bench axis parallel to the beam axis

## temporary: follow jitter of ITF beam to estimate galvo dynamic needs
#o  10.971,    -0.002   ,   -18.1285720E-3   #AdV new tower position

#o  10.971,    -0.002 + 395.769E-6  ,   -18.1369E-3 - 20.0887E-9 -7.10501E-3  #for 1 mm shift of beam on SRM
#o  10.971,    -0.002 +  7.235809E-3  ,   -18.1285720E-3 + 14.114726E-3  #for 1 mrad (57e-3 deg)shift of beam on SRM
#o  10.971,    -0.002  + 723.581E-6 ,   -18.1285720E-3 +1.4040048E-3    #for 100 murad (5.7e-3 deg)shift of beam on SRM

!------------------------------------------------------------------------------------------------------
!------------------------------------  Suspended Detection Bench  (SDB1) ------------------------------
!------------------------------------------------------------------------------------------------------

! Positions from old Optocad configurations
d       d, -0.005,      -0.300, 0.005,          0.0,  200.0,icc=1    # wire1
+       d,  dm=0., c=200.
d       d,  0.245,      0.150, 0.005,           0.0,  200.0,icc=1    # wire2
+       d,  dm=0., c=200.
d       d, -0.255,      0.150, 0.005,           0.0,  200.0,icc=1    # wire3
+       d,  dm=0., c=200.


! ---- DET MMT TELESCOPE -----
! Telescope to get a beam waist of 1.3mm

!      act       xap          yap             rap             phi    cur       med    r       t           # label

!Baffle at DET input
d        d,          -0.438-255.560E-9,      sdb1_mmt_yM1,  .180,    0., icc=1 # SDB1\_BafDet @-0.060,0.15,0.15
+        d,dm=0.01
h        t,          -0.438-255.560E-9,      sdb1_mmt_yM1,  .070,    0., 0.0   # SDB1\_BafDetHole
+        t,dm=0.01

!MMT Meniscus: use same meniscus as INJ (Roc1=1072 mm, Roc2=3195 mm, distance SR AR to meniscus = 4521 mm)
!!! NOMINAL PARAMETERS
!d        t,          -0.352000,               sdb1_mmt_yM1,   0.075,    0.0,  -1./1.072,  3,     0, 1  # SDB1\_MMT\_L1 @-.02,-.09,0.15
! +       t, dx=.025, r=.0, t=1., rc=3.195
!!  UPDATED PARAMETERS
d        t,          -0.352000-3e-3,               sdb1_mmt_yM1,   0.075,    0.0,  -1./1.07227,  3,     0, 1  # SDB1\_MMT\_L1 @-.02,-.09,0.15
 +       t, dx=.02547, r=.0, t=1., rc=3.1927

! MMT Parabolic mirrors  (position defined by the center of the parabola, 01)
! Define xM1, yM1;   delta1 = 0.160 m, R1=1.440 m, 
d        r,     sdb1_mmt_xM1+sdb1_mmt_delta1*sdb1_mmt_delta1/2/sdb1_mmt_Roc1,  sdb1_mmt_yM1-sdb1_mmt_delta1,  0.075,    0.0,  -1/sdb1_mmt_Roc1, 9, 1, 0, sh=0, zr=sdb1_mmt_delta1  # SDB1\_MMT\_M1 @-.02,-.12,0.15
 +       d, dm=.015

! xO2-xO1=-0.765,    delta2=0.010,  R2=0.090,   y02 = y01 since both parabolas have the same horizontal axis
d         r,    sdb1_mmt_xM1+sdb1_mmt_delta1*sdb1_mmt_delta1/2/sdb1_mmt_Roc1-sdb1_mmt_O1O2-20e-6,  sdb1_mmt_yM1-sdb1_mmt_delta1,  0.013, -180.0, -1/sdb1_mmt_Roc2, 9,  1,  0, sh=0, zr=sdb1_mmt_delta2  # SDB1\_MMT\_M2 @-.030,-.025,0.15
!d         {r}1d,    sdb1_mmt_xM1+sdb1_mmt_delta1*sdb1_mmt_delta1/2/sdb1_mmt_Roc1-sdb1_mmt_O1O2,  sdb1_mmt_yM1-sdb1_mmt_delta1,  0.013, -180.0, -1/sdb1_mmt_Roc2, 9,  1,  0, sh=0, zr=sdb1_mmt_delta2  # SDB1\_MMT\_M2 @-.030,-.025,0.15
 +       d, dm=.008


! Dichroic mirror for Hartman beam
d    actionSDB1Md,   -0.180+0.075,  -0.1514,   inch,      -45.0+6.03,  0.0, 1,  0.999, 0.001 #SDB1\_Md @-.02,-.030,0.15
 +              t,    dm=0.0147, da=179.5
!d        d,   -0.180+0.075+0.3719,        -0.1517,     0.040, 0.-47.737e-3, icc=1 #SDB1BeamViewerMd @-0.02,-.02,0.12
!  +      d,   dm=0.002

d        r,       -0.159,  0.100,    .050,   90., 0., icc=1    
 +       d, dm=0.001
h        t,       -0.1877,  0.10,    .009,   90., 0., icc=1       
 +       t, dm=0.001
h        t,       -0.159,  0.100,    .009,   90., 0., icc=1     # SDB1\_BafflesSecondaryBeam @0.015,+0.01,0.12          
 +       t, dm=0.001


!d        d,       -0.050+0.075,  -0.1512,    .045,   0., 0., icc=1               
! +       d, dm=0.010
!h        t,       -0.050+0.075,  -0.1512,    .0127,   0., 0.                      # SDB1\_BD @0.015,+0.03,0.12
! +       t, dm=0.010

! Beam ejection for unlock
!d        r,    -0.190+5e-3,   0.250,        inch/2,    135+6,  0.0, 3, r=1.0, t=0., rc=-0.200  #SDB1\_ProtectOMC @-.02,+.015,0.12
! +       t,    dm=0.006, 

!B1 towards Faraday    (add transmission to simulate a pick-off that should be above in height...)
!d        d,    -0.180-0.031+3.2e-3,   0.330,        inch,    90,  0.0, 3, 1.0, 0.   #TestScreen @-.02,+.015,0.12
! +       d,    dm=0.0105, da=180.5


!B1 towards Faraday    (add transmission to simulate a pick-off that should be above in height...)
d        r,    -0.180-0.031,   0.345,        inch,    135.0+6.01,  0.0, 3, 1.0, 0.   #SDB1\_M1 @-.02,+.015,0.12
 +       t,    dm=0.0105, da=180.5

!Polarizer in Faraday.
!d        t,    -0.180-0.0305+0.125,   0.345,        inch/2,    45.0,  0.0, 3, 1.0, 0.   #SDB1\_pol1 @-.02,+.015,0.12
! +       t,    dm=0.006
!
d        t,    -0.180-0.0305+0.125+0.067,   0.345,        0.010,    0, 0, 1, m=6   #SDB1\_TGGcrystal @-.02,+.015,0.12
 +       t,    dm=0.037
!
!d        t,    -0.180-0.0305+0.125+0.160,   0.345,        inch/2,    0,  0.0, 3, 1.0, 0.   #SDB1\_pol2 @-.02,+.015,0.12
! +       t,    dm=0.006*1.4142


d        srt,    0.1125,   0.345,        inch/2,    -45.0,  0.0, 3, r=0.001, t=0.999   #SDB1\_FaradayM
 +       t,    dm=0.001, da=180



!waveplate
d        t,   0.160,   0.345, inch,    0.,   0.0, 1  # SDB1\_WP1 @-0.02,+.015,0.12
 +       t,  dm=0.003

!! other tries
d        r,   0.190,       0.345-0.0000194,            .0254,    45.-0.0012,      0.0,    3, r=1.0, t=0.0      # SDB1\_M2  @+0.015,-.01,0.15
 +       d,   dm=0.0105, da=180.5
d      srt,   0.190,     0.2645,            inch/2.,  -90.-5.3,    0.0,    1, r=0.0, t=1.0      # SDB1\_MMT\_L2 @+0.015,.0,0.15
!! +       t,  dm=0.003,  r=0., t=1., rc=(SDB1_L2_Roc+0.038)
 +       t,  dm=0.004,  r=0., t=1., rc=(0.300+0.035)
d        d,   0.208,               0.315,   0.010, 90., 0., icc=1                                              #SDB1\_MMT\_L2Dump
 +       d, dm=0.010
d      srt,   0.190-30e-6,   0.153,   inch/2.,   -90.+6.9,    0.0,  1, r=0.0, t=1.0   # SDB1\_MMT\_L3  @+0.015,.0,0.15
!! +       t,  dm=0.003,  r=0., t=1., rc=(SDB1_L3_Roc-0.176+0.014)
+       t,  dm=0.004,  r=0., t=1., rc=(-0.380-0.293)
d       d,   0.165,               0.2484,   0.010, 90., 0., icc=1                                               #SDB1\_MMT\_L3Dump
+       d, dm=0.010

d      str,   0.190,       -0.220,              inch/2,   -45.0,     0.0,    3, r=0.99, t=0.01    # SDB1\_M3  @0.01,-.01,0.15
+        t,   dm=0.006, da=180.5
d       r,   -0.182,         -0.220-0.13e-3,               inch/2,   135.0-0.0993,     0.0,    3, r=1.0, t=0.0      # SDB1\_Mmot1  @+0.01,+.010,0.15
 +       d,   dm=0.006, da=180.5
d        r,   -0.18272,       -0.400-1.25e-3,     inch,  -135.0-0.150,   0.0,    3, r=1.0, t=0.0      # SDB1\_Mmot2  @-0.025,.012,0.15
 +       d,   dm=0.0105, da=180.5

!!Add Standard Beam Dump (2")
d        d,       0.190-0.000088,  -0.195,    .027,   90., 0., icc=1               
 +       d, dm=0.004
h        t,       0.190-0.000088,  -0.195,    .0075,   90., 0. # SDB1\_BD1 @0.015,0.010,0.15
 +       t, dm=0.004

! B1p pick-off
d        r,   0.190+1.5e-3,     -0.2875+5.921e-3-2.28e-3,    inch/2,   -135.0-0.260,     0.0,   3, r=1.0, t=0.0      # SDB1\_M4  @-0.045,-.01,0.15
 +       d,   dm=0.006, da=180.5

!Keep some room for OMC mechanical mount
c        t,  -0.040,  -0.388-8e-3,  0.040,    0.,      0.0, m=0, t=1, icc=14
 +       t,  rd=0.110, da=-90
 +       t,  rd=0.040, da=-180
 +       t,  rd=0.110, da=-270

i OMC,    0.020,   -0.3842398-9.311e-3,  90+2.7028        % Rc=1.700  #SDB1\_OMC1 @0.0,-.020,0.12
i OMC2,   0.122,   -0.3842398-9.323e-3,  90-2.713463-0.01 % Rc=1.700  #SDB1\_OMC2 @0.0,-.035,0.12
!i OMC,   0.029,    -0.398,  90 % Rc=1.700  #SDB1\_OMC1 @0.0,-.020,0.12
!i OMC2,   0.122,   -0.3842398-3.950e-6-8e-3-1.019e-3,  60 % Rc=1.700  #SDB1\_OMC2 @0.0,-.035,0.12

!Lens on B1 path
!d        t,   0.180,     -0.40225, inch/2.,  0,     f=-3.00  #SDB1\_OMC2\_RefL  @-0.02,+.01,0.12
! +       t,  dm=0.003

!dump pick-off of OMC2
d        d, 0.160, -0.380-8e-3, 0.005,    0, icc=1 #SDB1\_OMC2\_BD
 +       d, dm=0.003

! Get reflection of OMC1
d        r,  -0.106+9.1e-3,     -0.422-6.1e-3-530e-6, inch/2, -126.2896, r=1.0, t=0.0 #SDB1\_OMC1\_Ref1 @-0.035,-.02,0.12
 +       d,  dm=0.006, da=180.5
!d        r,  -0.106-885e-6+10.69e-3, -0.250-1.372e-3+2.9e-3, 0.0254, 135+9.35E-3-0.7665, r=1.0, t=0.0 #SDB1\_OMC1\_Ref2 @-0.035,-.02,0.12
! +       d,  dm=0.003
d        r,  -0.096195-400e-6, -0.2485, inch/2, 135-0.953, r=1.0, t=0.0 #SDB1\_OMC1\_Ref2 @-0.035,-.02,0.12
 +       d,  dm=0.006, da=180.5
!!!! WARNING: SHOULD ADD AN BIG EGO BEAM DUMP FOR B1s1 AS IN VIRGO+
!d      str,   0.100,            -0.251,          0.0254, -45.-0.752,         r=0.9 #SDB1\_OMC1\_Ref3 @-0.02,-.02,0.12
d      str,   0.100,            -0.251,          inch/2, -45.-0.850-0.035,         r=0.9 #SDB1\_OMC1\_Ref3 @-0.02,-.02,0.12
 +       t,  dm=0.006, da=179.5
d      sdr,   0.100,            -0.127,          0.040,  83.,        r=0.1, icc=1 #SDB1\_B1s1\_BD1 @-0.02,+.03,0.12
 +       d,   dm=0.020
d        d,   0.060,            -0.280,          0.010, -90., icc=1 #SDB1\_B1s1\_BD2 @-0.02,-.02,0.12
  +      d,   dm=0.010

! Get reflection of OMC2
!d        r,  -0.058,     -0.321-369.4e-6-16.780e-3, 0.0254,   180-8.71452+1.022, r=1.0, t=0.0  #SDB1\_OMC2\_Ref1 @-0.04,-.020,0.12
! +       d,  dm=0.003
d        r,  -0.063,     -0.337, inch/2,   180-8.71452+0.862, r=1.0, t=0.0  #SDB1\_OMC2\_Ref1 @-0.04,-.020,0.12
 +       d,  dm=0.006, da=180.5


!!! Pick-off of the secondary beams
! B5 sent to the 4Q and SDB2
d        r,  -0.210075,     0.215-0.03, inch/2,     136.5+6+0.0     #SDB1\_B5\_M1  @-0.05,+.002,0.12
 +       d,  dm=0.006, da=180.5
!d        t,  -0.150,     0.215-0.03, inch/2,     0.0     #SDB1\_B5\_BeamDev 
! +       t,  dm=0.006
!d        d,   -0.200,        0.212,     0.040, 90., icc=1 #SDB1BeamViewer @-0.02,-.02,0.12
!  +      d,   dm=0.002
d      t,    -0.1264,      0.185, inch/2.,     0.0, f=1.000 #SDB1\_B5\_L1  @-0.06,-.005,0.12
 +     t,  dm=0.003
d   {str},   -0.087,       0.180+0.005, inch,    45.0+6, r=1.0   #SDB1\_B5\_M2  @+0.00,.02,0.12
 +     t,  dm=0.0105, da=180.5
!d      d,   -0.020-0.025+0.010+0.07,     0.140+0.040+0.035-0.03+0.00436, 0.0200,      0.0        #SDB1\_B5\_4Q1  @-.020,-.01,0.12
d      d,   0.035,     0.185, 0.0200,      0.0        #SDB1\_B5\_4Q1  @-.020,-.01,0.12
 +     d, dm=0.030,icc=icqpd
!d      t,    -0.020,       0.110, inch/2.,     70.0, f=0.050 #SDB1\_B5\_L2  @-0.06,-.005,0.12
! +     t,  dm=0.003
d      r,   -0.00602,      -0.200, inch/2.,     263.0+11.595        #SDB1\_B5\_M3  @+0.01,.0,0.12
 +     d,  dm=0.006, da=180.5
d      r,   -0.0474+0.060+0.00167+0.000645,      0.180+0.040+0.004, inch/2.,    126.0+2.095+5.5-0.19, r=1.0   #SDB1\_B5\_M4  @+0.00,.02,0.12
 +     t,  dm=0.006, da=180.5
d      t,    0.075+0.025,       0.180+0.040+0.0033, inch/2.,     0, f=-0.225  #SDB1\_B5\_L2  @-0.06,-.005,0.12
 +     t,  dm=0.003
d   {str},    0.330-0.0125,        0.180+0.040+0.0017, inch/2.,         -30        #SDB1\_B5\_M5  @-0.065,.0,0.12
 +     t,  dm=0.006, da=179.5
d      d,    0.2614,      0.330-0.0125, 0.0200,       120        #SDB1\_B5\_4Q2  @-.020,+.01,0.12
 +     d, dm=0.030,icc=icqpd
d      t,    0.380,       0.180+0.0372+0.0033, inch/2.,     0, f=0.500  #SDB1\_B5\_L3  @-0.06,-.005,0.12
 +     t,  dm=0.003


! Pickoff B5 Going through SDB1_Md
!d        d,   0.515,            -0.200,     0.010, 0., icc=1 #SDB1\_PO_B5 @-0.02,-.02,0.12
!  +      d,   dm=0.002


! to extract the positions of the CP secondary beams
!d        d,  -0.180+7e-6,  0.215, 0.10,  +90. #SDB1\_TMP @-0.05,+.002,0.12
! +       d, dm =0.003

! Temporary beam dump to see the positioning of secondary beam before pick-off of B5 & B6 beam.
!d        d,   -0.175,    0.114435, 0.020,      90., 0.0, icc=1 #SDB1\_BD_SecondBeam
! +       d, dm=0.005

!!B6 and B9 extracted to SDB2 (only one mirror here but they should be 2 above or below B1, a bit on the left and a bit on the right respectively)
!d        r,  -0.152+0.00275,           0.220+0.004, inch/2,   133.6+0.3+5.575,   c=0, r=0.01    # SDB1\_B6B9\_M1 @-0.02,-.018,0.12
! +       d,dm=0.003, da=180.5
!d        t,  +0.380,           0.220+0.0024, inch/2,     0,    f=0.5          # SDB1\_B6B9\_L1 @-0.02,-.018,0.12
! +       t,dm=0.003

!d        d,  -0.180,           0.215, inch*5,   90.,   c=0, r=0.0    # SDB1\_B6B9\_M1 @-0.02,-.018,0.12
! +       d,dm=0.003

!! Temporary dumper to have only B5 on SDB2
!d        d, -0.152,    0.205, inch/2.,   90, icc=1 #SDB1\_OMC2\_BD
! +       d, dm=0.003

!Dumper before pick-off optics
!d       d, -0.188,      0.240,  0.080,   90.0,  0, icc=1  # SDB1\_PO\_Baf @-0.06,+.01,0.12
!+       d,  dm=0.005
!h       t, -0.188,      0.240,  0.010,   90.0,  0         # SDB1\_B1\_BafHole
!+       t,dm=0.005



!! Simulate the Hartmann beam as it comes back from ITF, after the telescope
!!b       -.3956+1.017+1.9,        -0.155275-1.56e-3-2.5e-3,  ag=-179.835-60e-3, p=30e-3,  w=50e-6,   z=1.9537 #SDB1\_HartmannBeam

!!! beam start position is 1017 mm after MMT_M2 (optical length)
!!! --> x((MMT_M2) + physical distance to L1   +  physical L1 center width  + what's missing in the optical path to math 1017 mm 
!!                 (700 mm optical/692mm geom) + (6 mm optical/4.4 mm geom) +    (1017-6-700 = 311 mm)
!!!  (in this estimation, the minilink viewport is neglected...)

!b       -.3977+0.692+0.0044+0.311+1.8,     -0.155275-1.56e-3-6.93e-3-3.15e-3+12.75e-3+11.81e-3,  ag=-180+0.522, p=30e-3,  w=50e-6,   z=1.8 # SDB1\_HartmannBeam
!b       -.3977+0.671,     -0.155275-1.56e-3-6.93e-3-3.15e-3+12.75e-3+11.81e-3,  ag=-180+0.522, p=30e-3,  w=60e-6,   z=0. # SDB1\_HartmannBeam
! mail from Viviana, 14/09/2014
d       t, -0.3977+0.700-7.7e-3+2.42e-4-0.5e-3+hws_tuning, -0.155275+3.19e-3-4.43e-3-3.15e-3+6.2e-3-100e-6,  inch,  ag=0.0,  r=0., t=1.0 # SDB1\_Har\_L @-0.06,+.01,0.12   
 +      t,  dm=0.005, r=0., t=1, rc=0.254

!! beam dump to get position of beam on alignment table
! d        d,   0.44,    0.0, 0.88,      0., 0.0, icc=1 #SDB1\_AlignBD
!  +       d, dm=0.010

!d        t,   0.260,    -0.284, 0.050,      0., 0.0, m=0, icc=0 #SDB1B1pBD1 @-0.02,-0.025,0.15
! +       t, dm=0.010 #SDB1B1pBD2


!------------------------------------------------------------------------------------------------------
!------------------------------------  Minilinks between SDB1 and SDB2   ------------------------------
!------------------------------------------------------------------------------------------------------
o   sdb_minilinks_x0,  sdb_minilinks_y0, -0.01809  ! Nominal position of SDB2 minitower, without bench position fine tuning

i MINITOWER3, 0, 0, 90. #minitSDB2

!Minilinks between SDB1 and SDB2
! minilink for B5 (and B6,B9)
c       t,  -0.800, +0.220, rd=0.096/2.,   ag=-180., c=0, m=0, icc=-1 #minilink1  
 +      d,  rd=sdb2_minilinkLength/2.,   da=-90.
 +      t,  rd=0.096/2.,                 da=-180.
 +      d,  rd=sdb2_minilinkLength/2.,   da=-270.
d       t, -0.800-sdb2_minilinkLength, +0.220, rd=0.096/2., ag=0., c=0, t=1, m=1 #minilink1\_VP @-0.06,+.01,0.12
 +      t, dm=0.012, da=180.5

! minilink for the Hartmann beam
c       t,  -0.800,      -0.152, rd=0.0667/2.,  ag=-180., c=0, m=0, icc=-1 #minilink2
 +      d,  rd=sdb2_minilinkLength/2.,   da=-90.
 +      t,  rd=0.0667/2.,                da=-180.
 +      d,  rd=sdb2_minilinkLength/2.,   da=-270.
d       t, -0.800, -0.152, rd=0.0667/2., ag=180., c=0, t=1, m=1 #minilink2\_VP @-0.06,+.01,0.12
 +      t, dm=0.012, da=179.5

! minilink for B1p, B1s1 and B1s2
c       t,  -0.800, -0.286, rd=0.096/2.,   ag=-180., c=0, m=0, icc=-1 #minilink3
 +      d,  rd=sdb2_minilinkLength/2.,   da=-90.
 +      t,  rd=0.096/2.,                 da=-180.
 +      d,  rd=sdb2_minilinkLength/2.,   da=-270.
d       t, -0.800-sdb2_minilinkLength, -0.286, rd=0.096/2., ag=0., c=0, t=1, m=1 #minilink3\_VP @-0.06,+.01,0.12
 +      t, dm=0.012, da=179.5


! minilink for B1
c       t,  -0.800, -0.400, rd=0.0667/2.,   ag=-180., c=0, m=0, icc=-1 #minilink4
 +      d,  rd=sdb2_minilinkLength/2.,   da=-90.
 +      t,  rd=0.0667/2.,                da=-180.
 +      d,  rd=sdb2_minilinkLength/2.,   da=-270.
d       t, -0.800, -0.400, rd=0.0667/2., ag=-180., c=0, t=1, m=1 #minilink4\_VP @-0.06,+.01,0.12
 +      t, dm=0.012, da=180.5

!------------------------------------------------------------------------------------------------------
!------------------------------------  Suspended Detection Bench  (SDB2) ------------------------------
!------------------------------------------------------------------------------------------------------
!o  10.958+2.892, 0.017+0.21,  -0.01809 # AdV mini-tower position
!o  10.971+2.892,      -0.002,  -0.01809 #AdV new tower position  !! Attenion
o   sdb2_x0,  sdb2_y0, -0.01809  #AdV minitower position  !!

#o  10.958+2.892 ,0.017+0.21  +112.752E-6-76.5087E-6,  -0.01809+   -7.07068E-3 # to lock the bench for 1 mm shift on SRM


####o  10.958+2.892 ,0.017+0.21 + 50e-6,  -0.01809 # AdV mini-tower position

! ---- Wire to suspend the SDB2 ----
d        d, -0.010,      0.000, 0.010,          0.0,  100.0,icc=1    # wire1
+       d,  dm=0., c=100.
! --- Dead zone for electrical cables around the wire
d       d, 0.,      -0.025,  0.025,    +90.0,  icc=20 # cables
 +      d,  dm=0.050


! ---- B1 path ----
!d        t,   0.490,   -0.50,           0.025,    90.,  1,     c=0.0                   # SDB2\_B1\_L1 @-0.02,-.025,0.15
! +       t,   dm=0.003,  r=0., t=1., rc=.3

!d        d,   0.490,    0.600, 0.025,   90., 0.0, icc=1 #SDB2\_B1\_BD
! +       d, dm=0.020


### Configuration with f = 0.7 m used to estimate galvo needs
!! B1p beam
d        t,  -0.155-0.0e-3,   -0.284,    inch,    0.0,     0.0,   1, c=1/0.3166           # SDB2\_B1p\_L1  @-0.02,-.025,0.15 !0.360
 +       t, dm=0.00596, c=1/0.3166
d        t,  -0.053+0.0e-3,   -0.2837,    inch,    0.0,     0.0,   1, c=-1/0.404           # SDB2\_B1p\_L2  @-0.02,-.025,0.15 !-0.420
 +       t, dm=0.008, c=-1/0.404


i     M8822,   0.4235-0.075-0.125+0.0085,   -0.2829+0.0085,   -45.
d     {srt},   0.4235-0.075-0.125+0.0085,   -0.2829+0.0085,    inch,   -45.,     0.0,   1,  1.0, 0.0 #SDB2\_B1p\_M1  @-0.02,-.025,0.15
 +        t,   dm=0.0105, da=179.5
!i    GALVO,    0.42295-0.050,   -0.5875,    -45.0  #SDB2\_B1p\_Galvo2 @-0.02,-0.025,0.15
i    GALVO,    0.305,   -0.2829+0.0625+0.0375,    -45.00  #SDB2\_B1p\_Galvo2 @-0.02,-0.025,0.15
i      U100,   0.4235-0.075-0.125,    -0.2829+0.0625+0.0375,    135.
d         r,   0.4235-0.075-0.125,    -0.2829+0.0625+0.0375,    inch/2,   135.,     0.0,   1,  1.0, 0.0 #SDB2\_B1p\_M1b  @-0.02,-.025,0.15
 +        d,   dm=0.006, da=179.5
!i      U200,   0.4235-0.075-0.050,   0.100,   135.
!d         r,   0.4235-0.075-0.050,   0.100,    inch,   135.,     0.0,   1,  1.0, 0.0 #SDB2\_B1p\_M1c  @-0.02,-.025,0.15
! +        t,   dm=0.0105, da=179.5
i      QPD2,    0.305,   0.350,   90     #SDB2\_B1p\_4Q2 @-0.180,-0.03,0.4

i     M8822,   0.6063+0.005,    -0.2817-0.005,   45.
d       str,   0.6063+0.005,    -0.2817-0.005,   inch,    45.,     0.0,   1,  1.0, 0.0 #SDB2\_B1p\_M2  @-0.02,-.025,0.15
 +        t,   dm=0.0105, da=180.5
i    GALVO,   0.6059+5.2e-3,   -0.495,  -45.07    #SDB2\_B1p\_Galvo1 @-0.02,-0.025,0.15
i      QPD2,   0.200,             -0.495,  180    #SDB2\_B1p\_4Q1 @-0.180,-0.03,0.4

i    M8822,   0.531,   -0.2787-6.1e-3,   -45.
d    {srt},   0.531,   -0.2787-6.1e-3,   inch,          -45.,      0.0,   1,  0.50, 0.50 # SDB2\_B1p\_M4 @-0.02,-0.025,0.15
 +        t, dm=0.0105, da=180.5 
i     M8822,   0.5277+7.386e-3,  -0.070+7.463e-3,   44.7+180
d       srt,   0.5277,  -0.070,   inch,   44.7, 0.0,   3, r=0.50, t=0.50 # SDB2\_B1p\_PBS @-0.015,0.0,0.15
+         t,   dm=0.0105, da=180.5
i      PD2,    0.5375,     0.025,     90        #SDB2\_B1p\_p  @-.04,+.07,0.20
i    M8822,   0.4125,   -0.0748,    -135.0
d    {srt},   0.4125,   -0.0748,    inch,        -135.0,      0.0,   1,   0.50, 0.50 # SDB2\_B1p\_M5 @-0.02,-0.025,0.15
 +        t, dm=0.0105, da=179.5
i     PD2,     0.4125,     0.025,     90        #SDB2\_B1p\_PD2  @-.04,0.07,0.20
i    M8822,   0.1875,   -0.0792,    -134.9
d    {srt},   0.1875,   -0.0792,    inch,         -134.9,      0.0,   1,   0.50, 0.50 #SDB2\_B1p\_M6 @-0.02,-0.025,0.15
 +        t, dm=0.0105, da=180.5
i     PD2,     0.1875,    0.025,     90       #SDB2\_B1p\_PD1  @-.04,.07,0.20
i     CAM2,     0.020,   -0.0825,    180       #SDB2\_B1p\_Cam @-.08,-.02,0.20

!! B1 beam path
d        t,   -0.570,       -0.4018,    inch,    0.0,     0.0,   1, f=0.550            # SDB2\_B1\_L1  @-0.02,-.025,0.15
 +       t, dm=0.006

i    M8822,   -0.315+0.2e-3,       -0.4009,    -44.93
d      str,   -0.315+0.2e-3,       -0.4009,    inch,   -44.93-0.1,     0.0,    3, r=0.80, t=0.20    # SDB2\_B1\_M1  @0.01,-.01,0.15
+        t,   dm=0.0105, da=179.5

i    M8822,   -0.3186+7.425e-3,       -0.045+7.425e-3-1.5e-3,    45-0.43+180 
d      str,   -0.3186,       -0.045-1.5e-3,    inch,     45.-0.43,     0.0,    3, r=0.50, t=0.50    # SDB2\_B1\_M2  @0.01,-.01,0.15
+        t,   dm=0.0105, da=179.5

i    M8822,   -0.3104,       0.015,     45.05
d      str,   -0.3104,       0.015,     inch,    45.05,     0.0,    3, r=0.50, t=0.50    # SDB2\_B1\_M4  @0.01,-.01,0.15
+        t,   dm=0.0105, da=179.5

i PD2,  -0.5125,   -0.050,     180     #SDB2\_B1\_PD2  @-.08,-0.02,0.20
i PD2,  -0.425,     0.015,     180     #SDB2\_B1\_PD1  @-0.08,-0.02,0.20
i CAM2, -0.308,     0.180,      90     #SDB2\_B1\_Cam  @-.04,+.04,0.20

d       d, 0.050, -0.400, 0.010, 0.0, icc=1  # SDB2_B1_BeamDump
+       d, dm=0.005

!! B1s2 beam
d        t,   -0.440,   -0.25027,    0.020,    0.0+1.867,     0.0,   1, f=0.400       # SDB2\_B1s2\_L1  @-0.02,-.025,0.15
 +       t, dm=0.003
i    M8822,  -0.375,      -0.248,     45.0+0.951
d      srt,  -0.375,      -0.248,     inch,    45.0+0.951,     0.0,    3, r=0.90, t=0.10    # SDB2\_B1s2\_M1  @0.01,-.01,0.15
+        t,   dm=0.0105, da=179.5
i    M8822,  -0.3752, -0.475,  -45
d      srt,  -0.3752, -0.475,  inch,   -45, 0.0,   3, r=0.50, t=0.50 # SDB2\_B1s2\_PBS @-0.015,0.0,0.15
+        t,   dm=0.0105, da=180.5
i     U200,  -0.500,      -0.475,     135.0
d      srt,  -0.500,      -0.475,     inch,    135.0,     0.0,    3, r=0.90, t=0.10    # SDB2\_B1s2\_M2  @0.01,-.01,0.15
+        t,   dm=0.0105, da=179.5
d        d,  -0.600,      -0.475,     inch,    165.0,     0.0,    3, icc=1    # SDB2\_B1s2\_BeamDump  @0.01,-.01,0.15
+        d,   dm=0.0105, da=179.5
i  PD2,    -0.372,     -0.6125,  270        #SDB2\_B1s2\_p  @-.04,-.07,0.20
i  PD2,    -0.500,     -0.6125,  270        #SDB2\_B1s2\_s  @-0.04,-0.07,0.20
i CAM2,     0.145,     -0.2239,   2.5   #SDB2\_B1s2\_Cam  @.04,+.02,0.20

!! B1s1 beam
d        t,  -0.345-0.010,   -0.321,    inch,    0.0-1.398,     0.0,   1, f=0.360            # SDB2\_B1s1\_L1  @-0.02,-.025,0.15
 +       t, dm=0.003
i     M8822,  -0.1895+7.346e-3,   -0.3321+7.502e-3,    44.4+180
d       srt,  -0.1895,   -0.3321,    inch,   44.4,     0.0,    3, r=1.0, t=0.0 # SDB2\_B1s1\_M1  @0.01,-.01,0.15
+        t,   dm=0.0105, da=179.5
i     M8822,  -0.1945,  -0.475,  -135.0
d       srt,  -0.1945,  -0.475,  inch,   -135.0,  0.0,   3, r=0.50, t=0.50 # SDB2\_B1s1\_PBS @-0.015,0.0,0.15
+         t,   dm=0.0105, da=179.5
i   PD2,    -0.200,      -0.61875,  270        #SDB2\_B1s1\_p  @-.04,-.07,0.20
i   PD2,    -0.050,      -0.4723,    0       #SDB2\_B1s1\_s  @.0,-0.02,0.20

i     U200,   0.285-0.028+0.205,   -0.3282-2.7e-3,    -45-0.400
d        r,   0.285-0.028+0.205,   -0.3282-2.7e-3,    inch,   -45-0.400,0.0,    3, r=1.0, t=0.0    # SDB2\_B1s1\_M2  @0.01,-.01,0.15
+        t,   dm=0.0105, da=180.5
d        t,   0.5875,   -0.15,     inch,    0,     0.0,   1, f=0.350            # SDB2\_B1s1\_L2  @-0.02,-.025,0.15
 +       t, dm=0.003
i     U200,   0.285-0.028+0.206,   -0.150,    135.
d        r,   0.285-0.028+0.206,   -0.150,    inch,   135,     0.0,    3, r=1.0, t=0.0    # SDB2\_B1s1\_M3  @0.01,-.01,0.15
+        t,   dm=0.0105, da=180.5


!!! Quadrants sur B1s1 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!d        t,   0.2653+0.020,   -0.190-0.025,     inch,    90,     0.0,   1, f=0.275            # SDB2\_B1s1\_L3  @-0.02,-.025,0.15
! +       t, dm=0.006
!i    M8822,   0.285,   0.325,    135
!d        srt,   0.285,   0.325,    inch,   135,     0.0,    3, r=1.0, t=0.0    # SDB2\_B1s1\_M4  @0.01,-.01,0.15
!+        t,   dm=0.0105, da=180.5
!i    M8822,  0.2825,   0.4575,    135.
!d        r,   0.2825,   0.4575,    inch,   135,     0.0,    3, r=1.0, t=0.0    # SDB2\_B1s1\_M5  @0.01,-.01,0.15
!+        t,   dm=0.0105, da=179.5

!d        t,   0.26167,   0.375,     inch,    90,     0.0,   1, f=-0.350            # SDB2\_B1s1\_L3  @-0.02,-.025,0.15
! +       t, dm=0.006

!d        t,   0.350,   0.300,     inch,    0,     0.0,   1, f=0.450            # SDB2\_B1s1\_L4  @-0.02,-.025,0.15
! +       t, dm=0.006

!i    GALVO,   0.590,    0.4596,  45.0  #SDB2\_B1s1\_Galvo1 @-0.02,-0.025,0.15
!i    QPD,     0.589,    0.325,  -90.0  #SDB2\_B1s1\_4Q1 @-0.180,.0,0.4,

!i    GALVO,   0.500,    0.325,  -45.0  #SDB2\_B1s1\_Galvo2 @-0.02,-0.025,0.15
!i    QPD,     0.500,    0.475, 90.0  #SDB2\_B1s1\_4Q2 @-0.180,.0,0.4,
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!  

!! B5 beam
d        t,  -0.620,    0.21876-8e-3,          inch/2,    0.0,     0.0,   1, f=0.710          # SDB2\_B5\_L1  @-0.02,-.025,0.15
 +        t, dm=0.003
i   M8822,   -0.225,    0.21935-11e-3,         -45.
d    {srt},  -0.225,    0.21935-11e-3,         inch,       -45.,      0.0,   1,   0.50, 0.50 # SDB2\_B5\_M1 @-0.02,-0.025,0.15
+        t, dm=0.0105, da=179.5
i    GALVO,  -0.2257,    0.324,  45.0  #SDB2\_B5\_Galvo2 @-0.02,-0.025,0.15
i    QPD,    -0.460,    0.325, 180.0 #SDB2\_B5\_4Q2 @-0.180,.0,0.4,

i    M8822,   0.1387,     0.2145-11.1e-3,        -45.
d    {srt},   0.1387,     0.2145-11.1e-3,        inch,        -45.,      0.0,   1,   0.50, 0.50 # SDB2\_B5\_M3 @-0.02,-0.025,0.15
+        t, dm=0.0105, da=180.5
i    M8822,   0.1405,  0.375+0.050,         44.8
d    {srt},   0.1405,  0.375+0.050,         inch,         44.8,    0.0,   1,   1.00, 0.00 # SDB2\_B5\_M4 @-0.02,-0.025,0.15
+        t, dm=0.0105, da=179.5
i   PD2,     -0.025,    0.375+0.050,     180        #SDB2\_B5\_PD2  @-0.08,-0.02,0.20
i   PD2,     0.144,     0.5875,      90        #SDB2\_B5\_PD1  @-.04,+.07,0.20

i    M8822,   -0.075-0.025,    0.2176-12.6e-3,   -45.
d      {srt},   -0.075-0.025,    0.2176-12.6e-3,   inch,     -45.,    0.0,   1,   1.00, 0.00 # SDB2\_B5\_M2 @-0.02,-0.025,0.15
+        t, dm=0.0105, da=179.5
i   GALVO,   -0.0757+1e-3-0.025,    0.525,  45  #SDB2\_B5\_Galvo1 @-0.02,-0.025,0.15
i    QPD,    -0.325,    0.525,   180.0,  #SDB2\_B5\_4Q1 @-0.180,0.0,0.4

!i   QPD,   0.420-0.025-2.56e-3,    0.31882+0.025,   180.0,  #SDB2\_B5\_4Q2 @-0.180,0.0,0.4
i   CAM2,   0.505,    0.2005,      0.0,  #SDB2\_B5\_Cam @-0.040,0.02,0.20

!! Hartmann Beam
!d       d,  -0.735-2., -0.155+11.644E-3, 2*inch, -180, 0.0, icc=1 # SDB1\_HartmTest @+0.05,+.10,0.15   
! +      d, dm=0.001

d        t,   -0.075+0.0e-3,   -0.0245+hws_tuning,       inch,    90.0,     0.0,   1            # SDB2\_Har\_L  @-0.02,-.035,0.15
 +       t, dm=0.005, rc=0.458
d        r,  -0.075,    -0.150+12.5e-3-5.7e-3,      inch,     -44.97+0.06,      0.0,   1,   1.00, 0.00 # SDB2\_Hartmann\_M1 @-0.020,-0.030,0.15
+        t, dm=0.0105, da=180.5
d        r,  -0.075,  0.0774,  inch,     135+0.062,      0.0,   1,   1.00, 0.00 # SDB2\_Hartmann\_M2 @-0.02,+0.025,0.15
+        t, dm=0.0105, da=180.5

!! Beam Dump
!d        {t}3,   0.260,    -0.284, 0.050,      180., 0.0, icc=1 #SDB2\_B1p\_BD @-0.02,-0.025,0.15
! +       {t}3, dm=0.010
!d        d,   0.000,    0.700, 0.6,      -90., 0.0, icc=1 #SDB2\_B1\_BD2
! +       d, dm=0.020

d       t, 0.790+0.012,   0.210, rd=0.058/2., ag=180., c=0, t=1, m=1 #SDB2\_VP_B5
 +      t, dm=0.012, da=180.499
d       t, 0.790+0.012,   0.0774, rd=0.058/2., ag=180., c=0, t=1, m=1 #SDB2\_VP_Hartmann
 +      t, dm=0.012, da=180.+0.489
d       t, 0.790+0.012,  -0.150,  rd=0.058/2., ag=180., c=0, t=1, m=1 #SDB2\_VP_B1s1
 +      t, dm=0.012, da=180+0.462
d       t, 0.790+0.012,  -0.2766, rd=0.058/2., ag=180., c=0, t=1, m=1 #SDB2\_VP_B1p
 +      t, dm=0.012, da=180+0.497
d       t, 0.790+0.012,  -0.4075, rd=0.058/2., ag=180., c=0, t=1, m=1 #SDB2\_VP_B1
 +      t, dm=0.012, da=180.5


!------------------------------------------------------------------------------------------------------
!------------------------------------  External Detection Bench  (EDB) --------------------------------
!------------------------------------------------------------------------------------------------------
o   edb_x0,  edb_y0, -0.0  #AdV External detection bench position  !!

!! Beam Dump
d        d,   1.005,    0.000, 0.7,      0., 0.0, icc=1 #SDB2\_B1\_BD
 +       d, dm=0.020

! Hartman Beam 
!!b       -0.180+hws_tuning,     0.0774+0.099+0.0004,  ag=-180-0.0, p=30e-3,  w=0.950e-3,   z=0 # EDB\_HartmannBeam
!b       -0.1805+hws_tuning,     0.0774+0.099+6.8e-3,  ag=-180+0.233, p=30e-3,  w=0.950e-3,   z=0 # EDB\_HartmannBeam ! only hart lens L1

d        d,  -0.181+hws_tuning,   0.0774+0.099+6.8e-3, 0.020,  0., c=0.0, icc=1 #EDB\_HWS\_SLED @+0.02,0.02,0.15
+        d, dm=0.005

c t, -0.352, 0.0774+0.099+3.3e-3+3e-3, .0254, +00, 0.0, 1, .005, .995 # EDB\_PBS1 @-.04,0.02,0.15
+ t, rd=0.0254, ag= 90., r=.005, t=.995
+ t, rd=0.0254, ag= 180., r=.005, t=.995
+ t, rd=0.0254, ag= 270., r=.005, t=.995
c srt, -0.352+0.0254, 0.0774+0.099+3.3e-3+3e-3, .03592, -225., 0., 1, .995, .000 #PBS1_int
c srth, -0.352+0.0254, 0.0774+0.099+3.3e-3+3e-3, .03592,-225., 0., 1, .490, .490

d  d, -0.352+0.0254, 0.150, 0.010, 90 #BD
+  d, dm=0.001

d   str, -0.424, 0.0774+0.099+3.3e-3+2.5e-3, inch, -135 # EDB\_M1 @-0.02,+0.03,0.15
+     t, dm=0.0105, da=180.5

d  d, -0.424, 0.150, 0.025, 90 #BD
+  d, dm=0.001

i,   PD2, -0.424, 0.275, 90 # EDB\_HWS\_PD1 @-0.02,+0.04,0.25


d        t,   -0.4708-0.059+hws_tuning+30e-3,   0.0778+0.099-3.3e-3+5.6e-3,       inch,    0.0,     0.0,   1            # EDB\_Har\_L1  @-0.02,-.035,0.15
 +       t, dm=0.005, rc=0.0521

!d        t,   -0.4708-0.059+hws_tuning,   0.0774+0.099+1.57e-3,       inch,    0.0+0.223,     0.0,   1            # EDB\_Har\_L1  @-0.02,-.035,0.15 ! only hart lens
! +       t, dm=0.005, rc=0.0521

c t, -0.645, 0.0774+0.099+2.9e-3, .0254, +00, 0.0, 1, .005, .995 # EDB\_PBS2 @-.04,0.02,0.15
+ t, rd=0.0254, ag= 90., r=.005, t=.995
+ t, rd=0.0254, ag= 180., r=.005, t=.995
+ t, rd=0.0254, ag= 270., r=.005, t=.995
c srt, -0.645+0.0254, 0.0774+0.099+2.9e-3, .03592, -225., 0., 1, .995, .000 #PBS2_int
c srth, -0.645+0.0254, 0.0774+0.099+2.9e-3, .03592,-225., 0., 1, .490, .490
!
d  d, -0.645+0.0254, 0.150, 0.010, 90 #BD
+  d, dm=0.001
!
d   r, -0.645+0.0254-0.66e-3, 0.375, inch, 135+0.083 # EDB\_M2 @-0.02,+0.04,0.15
+   t, dm=0.0105

d        t,   -0.2825+0.121+hws_tuning,   0.375,       inch,    0.0,     0.0,   1            # EDB\_Har\_L2  @-0.02,-.035,0.15
 +       t, dm=0.005, rc=0.485

d   r, 0.2785, 0.375, inch, 45 # EDB\_M3 @-0.02,+0.04,0.15
+   t, dm=0.0105

d   r, 0.2785+2.8e-3, 0.075+0.100, inch, -45-0.2 # EDB\_M4 @-0.02,+0.04,0.15
+   t, dm=0.0105

d        d, 0.0625-0.121+0.011-hws_tuning, 0.075+0.100, inch, 180.0, icc=4 # HWS\_Sensor @-0.02,-0.035,0.15
+        d, dm=0.0254

d   str, 0.2785, 0.075+0.200, inch, -45 # EDB\_M5 @-0.02,+0.04,0.15
+   t, dm=0.0105, da=180.5
i,   PD2, 0.175, 0.275, 180 # EDB\_HWS\_PD2 @-0.06,+0.04,0.20

!!c     t,  -0.645, 0.0774+0.099, 0.050, 0., 0., 1, 0.005, .995 #PBS\_cube
!!+     t,  rd=0.050, ag=90., r=0.005, t=0.995 
!!+     t,  rd=0.050, ag=180., r=0.005, t=0.995
!!+     t,  rd=0.050, ag=270., r=0.005, t=0.995
!!c    srt,  -0.670,  0.774+0.099,   0.0707,    45., 0., 1, 0.995, .000 # PBS2
!!c    srt,  -0.670,  0.774+0.099,   0.0707,    45., 0., 1, 0.490, 0.490 # PBS @-0.02,+0.02,0.12

! Transmitted beam from dichroic mirror:
d   {r}{t}2, -0.775, 0.0774+0.099, inch, 45+0.114 # EDB\_TPO\_M1 @-0.02,+0.04,0.15
+   t, dm=0.0105, da=180.5

d   r, -0.775, 0.075, inch, -135 # EDB\_TPO\_M2 @-0.02,+0.04,0.15
+   d, dm=0.0105, da=179.5

i CAM, -0.525, 0.075, 0 #EDB\_TPO\_Cam @+0.02,0.02,0.15




!! B1s1 beam path
i CAM, -0.525, -0.05, 0 #EDB\_B1s1\_Cam @+0.02,0.02,0.15


!! B1 beam path for SFP cavity.
d        t,   -0.95,   -0.3054,       inch,    0.0,     0.0,   1            # EDB\_B1\_L1  @-0.02,-.035,0.15
 +       t, dm=0.005, rc=0.200

d        r,  -0.25,    -0.3009,  inch/2,  45.187, r=1.00, t=0.00 # EDB\_B1\_M1 @-0.02,0.03,0.15
+        d, dm=0.006

d        r,  -0.25,    -0.375,  inch/2,  -45.0, r=1.00, t=0.00 # EDB\_B1\_M2 @+0.02,0.00,0.15
+        d, dm=0.006


!Keep some room for SFP mechanical mount
c        t,  -0.425,  -0.375,  0.050,    180.,      0.0, m=0, t=1, icc=14
 +       t,  rd=0.200, da=-90
 +       t,  rd=0.050, da=-180
 +       t,  rd=0.200, da=-270

d     d, -0.50, -0.375, 0.025, 180, icc=10 #EDB\_B1\_SFP @-0.2,-0.00,0.25
+     d,  dm=0.25

!Keep some room for Phase Camera #3
c        t,  0.0,  -0.250,  0.150,    0.,      0.0, m=0, t=1, icc=14  #PhaseCAM3 @0.30,-0.0,0.55
 +       t,  rd=0.4375, da=-90
 +       d,  rd=0.150, da=-180
 +       t,  rd=0.4375, da=-270


!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------  Suspended SQueezing Bench 1 (SQB1) --------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o   sqb1_x0,  sqb1_y0, 0.00  #AdV minitower position  !!

! ---- Wire to suspend the SDB2 ----
d        d, -0.010,      0.000, 0.010,          0.0,  100.0,icc=1    # wire1
+       d,  dm=0., c=100.
! --- Dead zone for electrical cables around the wire
d       d, 0.,      -0.025,  0.025,    +90.0,  icc=20 # cables
 +      d,  dm=0.050

d       d,     -0.18,    -0.65,   inch,      90,    0.,       9,     0., 1., icc=1 #SQZ\_Dump @-0.4,.03,0.5
+      d,   dx=0.01, c=0

d       d,     -0.33,    -0.65,   inch,      90,    0.,       9,     0., 1., icc=1 #SDB1\_Dump @0.2,.03,0.5
+      d,   dx=0.01, c=0

!d       d,     -0.65,    0.6,   inch,      0,    0.,       9,     0., 1., icc=1 #IMFC\_Wedge\_Dump @-0.4,.03,0.5
!+      d,   dx=0.01, c=0

d          r,  0.05,    0.45,  inch,    -25, r=1.00, t=0.00, rc=2e99 # SQB\_M1 @-0.02,0.03,0.25
+          d, dm=0.0106

d          r,  -0.6,    0.59,  inch,    129, r=1.00, t=0.00 # SQB\_M2 @-0.02,0.03,0.25
+          d, dm=0.0106


d               d,  -0.61, 0.5,  inch,    90.0
+          d, dm=0.0106


h        t,  -0.603, 0.5, 0.004,  90.0, m=0
+          t, dm=0.0106, m=0





d          r,  -0.6,    0.4,  inch,    -135, r=1.00, t=0.00 # SQB\_M3 @-0.02,0.03,0.25
+          d, dm=0.0106

d        r,    -0.325,    0.4,  inch,   45, r=1.00, t=0.00 # SQB\_M4 @-0.02,0.03,0.25
+          d, dm=0.0106

i       FI,     -0.32,  0.045,    90   #Faraday\_IsolatorA @-0.02,0.0,0.25

i       FI,     -0.32,  -0.32,    90   #Faraday\_IsolatorB @-0.02,0.0,0.25

d        srtr,  -0.325,    0.06,  inch,     -135, r=1.00, t=0.00 # SQB\_M5 @-0.02,0.03,0.25
+          t, dm=0.0106

d        r,  0.26,    0.06,  inch,     -45, r=1.00, t=0.00 # SQB\_M6 @-0.02,0.03,0.25
+          d, dm=0.0106


! ---- External Squeezing Benches

d        r,  0.26,    1.55,  inch,     90-4, r=1.00, t=0.00 # SQB\_M7 @-0.02,0.03,0.25
+          d, dm=0.0106

d        r,  0.21,    1.2,  inch,     -135-4, r=1.00, t=0.00 # SQB\_M8 @-0.02,0.03,0.25
+          d, dm=0.0106

d        r,  1.125,    1.2,  inch,     5, r=1.00, t=0.00, rc=10 # SQB\_M9 @-0.02,0.03,0.25
+          d, dm=0.0106

d        r,  0.55,    1.08,  inch,     180+5, r=1.00, t=0.00 # SQB\_M10 @-0.02,0.03,0.25
+          d, dm=0.0106

i       FI,     1.05,  1.1,    0   #Faraday\_IsolatorC @-0.02,0.0,0.25

d        r,  1.75,    1.075,  inch,     -45, r=1.00, t=0.00 # SQB\_M11 @-0.02,0.03,0.25
+          d, dm=0.0106

d        r,  1.75,    1.475,  inch,     135, r=1.00, t=0.00 # SQB\_M12 @-0.02,0.03,0.25
+          d, dm=0.0106

!d       d,     1.85,    1.475,   inch,      0,    0.,       9,     0., 1., icc=1 #SDB1\_Dump @0.2,.03,0.5
!+      d,   dx=0.01, c=0

!b              1.8,    1.475,  372e-6, 180.0,  z=1020e-3 #AEI\_Beam

d       d, 1.85,   1.075,  0.5025,    0.0,  icc=5 # AEI\_SQZ @0.5, 0.0,0.25
 +      d,  dm=1.05
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------  Suspended SQueezing Bench 2 (SQB2) --------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o   sqb2_x0,  sqb2_y0, 0.00  #AdV microtower position  !!

!! ---- Wire to suspend the SQB ----
d       d, -0.010,      +0.00, 0.010,          0.0,  100.0,icc=1    # wire1
+       d,  dm=0., c=100.
!! --- Dead zone for electrical cables around the wire
d       d,     0.,     +0.0-0.025,  0.025,    +90.0,  icc=20 # cables
 +      d,  dm=0.050

 d        t,  0.0862, 0.1103, 0.125,  -38.0, m=0 #TARGET_tubeAxis
+        t, dm=0.001

 d        t,  -0.1, 0.725, 0.125,  90.0, m=0 #Tube\_Width
+        t, dm=0.02


! d        d,  -0.1, 0.55, 0.15,  90.0, m=0 #Tube\_Baffle
!+        d, dm=0.02

! h        t,  -0.1, 0.55, 0.075,  90.0
!+        t, dm=0.02
 

d    {r}{r}2,  -0.15+0.03,   -0.450-0.02,    inch*2,   -90+4,     0.0,   1,  1.0, 0.0, rc=-24  #CCB\_MMT1  @-0.02,-.025,0.25 !rc=-4.5  !rc=-1.0 -4.1
 +        d,   dm=0.0105, da=179.5, rc=2.50

d    {r}{r}2,     -0.225-9.9e-3+51.3e-3-0.05,  0.350-5.9e-3-40.2e-3+0.04,     inch*2,   116+4,     0.0,   1,  1.0, 0.0, rc=1e99 #CCB\_MMT2  @-0.02,-.025,0.25 !rc=-1.75  !rc=-0.55 2.8
 +   d,   dm=0.0105, da=179.5
 
!d    {r}{str}2,  -0.1,   -0.39,    inch*2,   -90+5,     0.0,   1,  1.0, 0.0, rc=-26  #CCB\_MMT1  @-0.02,-.025,0.25 !rc=-4.5  !rc=-1.0 -4.1
! +        t,   dm=0.0105, da=179.5, rc=2.50

!d    {r}{str}2,     -0.245,  0.3,     inch*2,   116+5,     0.0,   1,  1.0, 0.0, rc=3.0*1e99 #CCB\_MMT2  @-0.02,-.025,0.25 
!rc=-1.75  !rc=-0.55 2.8
! +   t,   dm=0.0105, da=179.5

!d      t,  0.175, 0.200, inch*2, 65.4, f=-0.350 #CCB_MMT2_L
!+      t, dm=0.006

!d    {r},     -0.3067,  0.400,     inch*1.5,   116.13,     0.0,   1,  1.0, 0.0 #CCB\_M3  @-0.02,-.025,0.25 !rc=-1.75  !rc=-0.55 2.8
! +   t,   dm=0.0105, da=179.5

!d    {r},     -0.200,  0.425,     inch*1.5,   138,     0.0,   1,  1.0, 0.0 #CCB\_M4  @-0.02,-.025,0.25 !rc=-1.75  !rc=-0.55 2.8
! +   t,   dm=0.0105, da=179.5
 

!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------- Mirror Filter Cavity (IMFC) ------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o   sqb2_x0-0.1,  sqb2_y0+51.7-0.0043-3.31-7.1275, 0.00  #AdV microtower position  !!

#        act        x       y           rd        ag        c         m     r       t
d        tr,        0.0,    0.0,           0.065,    -90.,    -1/430.0,  1,    0.9,    0.1  # IM\_FC @ 0.3, 0.05
 +        {str}t,        dx=0.09, da=180.02

d        r,         0.0,   300.0+0.0,   0.065,    90.,     -1/430.0,   1,    0.9,    0.1  # EM\_FC @ 0.3, 0.05
+        t,        dx=0.09

b               0.0,    0.0+0.0,        0.0103, 90., 1/430 # SQZ\_Beam

!b              0.0,    0.0+0.0,        0.0103, 90., 1/430, m=3 # Green\_Beam

!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------- North End Benches  ---------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o  sneb_x0-267e-6-1e-3,  sneb_y0,  0.000 # AdV mini-tower position.  Angle to be adjusted to have the bench axis parallel to the beam axis

i MINITOWER1, 0, 0,  0  # minitSNEB

! --- Wire to suspend SNEB ---
d       d, +0.010,      0.,  0.010,        180.0,  100.0,icc=1    # wire
 +      d,  dm=0., c=100.
! --- Dead zone for electrical cables around the wire
d       d, 0.,      -0.025,  0.025,    +90.0,  icc=20 # cables
 +      d,  dm=0.050

! ---- Start of SNEB telescope
!      act       xap       yap     rap   phi         cur med  r   t  # label
! MMT doublet. medium of lenses is BK7 (number 5)
d       t,   0.120,    -0.530,                      0.112, 90.0,  1./2.188,  m=5,   r=0., t=1. # SNEB\_MMT\_L1a @-.05,.0,0.5
 +      t,   dx=0.030, c=1./(7.3345)
d       t,   0.120,   -0.530+0.030+4.319e-3,   0.112, 90.0, -1./2.979,  m=5,   r=0., t=1. # SNEB\_MMT\_L1b @-.05,.0,0.5
 +      t,   dx=0.019, c=1./(4.500)

! MMT doublet mount (extracted from the mechanics described in the HWII database, will be redone for AdV).
d       d,   0.110-0.112-0.030/2.+0.010, -0.545, 0.030/2,  90.0, m=0, icc=1
 +      d,   dx = 0.118
d       d,   0.110+0.112+0.030/2.+0.010, -0.545, 0.030/2,  90.0, m=0, icc=1
 +      d,   dx = 0.118

!!!!! Add two folding mirrors Solution 4.
!!!!! MMT flat mirrors
d       r,    0.119,    0.500,     8*inch/2.,   90.+9.36,        0.,    m=1,     r=1., t=0. #SNEB\_MMT\_M1 @-.05,.03,0.5
 +      d,   dx=0.039,c=0
i      ST8,   0.119,    0.500,     90+9.36      #SNEB\_MMT\_M1mount @-.03,.01,0.5

d       r,    0.4245+8.4e-3,    -0.425,   6*inch/2.,  -90.0+12.191,     0.,    m=1,     r=1., t=0. #SNEB\_MMT\_M2 @-.08,-.06,0.5
 +      d,   dx=0.030,c=0
i      ST6,   0.4245+8.4e-3,    -0.425,     -90+12.191      #SNEB\_MMT\_M2mount @-.03,.01,0.5

i    M8822,  0.4242-0.0992+17.2e-3,     0.492,   79.0 #SNEB\_MMT\_M3mount
d       r,   0.4242-0.0992+17.2e-3,     0.492,   3*inch/2.,   79.0,   0.,    m=1,     r=1., t=0. #SNEB\_MMT\_M3 @-0.05,.03,0.5
 +      d,   dx=0.01,c=0

i  M8822,   -0.125,    -0.400,   -103.825 #SNEB\_MMT\_M4mount
d       r,  -0.125,    -0.400,   2*inch/2.,   -103.825,   0.,    m=1,     r=1., t=0. #SNEB\_MMT\_M4 @-0.05,.03,0.5
 +      d,   dx=0.01,c=0
!i  M8822,   -0.1595,    0.550,   90.0-12.71 #SNEB\_MMT\_M5mount
!d       r,   -0.1595,    0.550,   2*inch/2.,    90.0-12.71,   0.,    m=9,     r=1., t=0. #SNEB\_MMT\_M5 @-0.05,.03,0.5
! +      d,   dx=0.01,c=0

!d       t,    -0.125, -0.375+0.1042+1.7e-3+0.0e-3, inch/2.,  90.,   m=1, r=0., t=1., f=-0.100 #SNEB\_MMT\_L2 @+.020,-.020,.5 ! For 46/23 mm L1 doublet
d       t,    -0.125, -0.375+0.1042+1.7e-3-9.7e-3, inch/2.,  90.,   m=1, r=0., t=1., f=-0.100 #SNEB\_MMT\_L2 @+.020,-.020,.5 ! For 30/19 mm L1 doublet
 +      t,   dx=0.006

! ---- End of SNEB telescope

!!!Towards the longitudinal photodiodes
i    U200,  -0.120,  0.150,  44.85 #SNEB\_M4mount
d       r,  -0.120,  0.150,    inch,   44.85-0.0,   0.,    m=3,    r=1.0, t=0.0  #SNEB\_M4 @+.02,-.04,0.5
 +      t,   dx=0.0105, da=180.5
i    M8822,   -0.200+2.4e-3,   0.150,    -134.97 #SNEB\_Mmot3mount
d      str,   -0.200+2.4e-3,   0.150,    inch,   -134.97,    0.,        m=3,     r=0.50, t=0.50 #SNEB\_Mmot3 @-.04,-.04,0.5
 +       t,  dx=0.0105, da=180.5
i    M8822,   -0.200+3.2e-3,   0.325,    135. #SNEB\_Mmot4mount
d      srt,   -0.200+3.2e-3,   0.325,    inch,   135.,    0.,        m=3,     r=1.           #SNEB\_Mmot4 @-.05,-.04,0.5
 +       t,   dx=0.0105, da=180.5 
i      PD2,   -0.200,   0.450+0.025,   90.         #SNEB\_Pd1  @-.05,+.055,0.5
i      PD2,    -0.100+0.050,   0.325,   0          #SNEB\_Pd2  @-.03,+.06,0.5


!!!Towards the camera
i    M8822,   -0.350,    0.150,  -135-0.10 #SNEB\_Mmot5mount
d        r,   -0.350,    0.150,    inch, -135-0.10,    0.,        m=3,     r=1.   #SNEB\_Mmot5 @-.15,+.01,0.5
 +       t,  dx=0.0105, da=180.5
i    M8822,   -0.275,   0.1469,    134.8 #SNEB\_Mmot6mount
d      srt,   -0.275,   0.1469,    inch,   134.8,    0.,        m=3,     r=1.   #SNEB\_Mmot6 @-.15,+.01,0.5
 +       t,   dx=0.0105, da=179.5
i CAM2,   -0.350,  0.325,     90.     #SNEB\_Cam1  @-.05,.07,0.50
i CAM2,   -0.275, -0.430,    -90.     #SNEB\_Cam2  @+.04,.00,0.50

!Towards the quadrant photodiodes
i    U200,  -0.1213,   -0.070,  134.805 #SNEB\_M2mount
d     {str},  -0.1213,   -0.070,     inch,   134.805,   0.,         m=3,    r=0.08, t=0.92 #SNEB\_M2 @+.02,-.04,0.5
 +       {t},   dx=0.0105, da=179.5, r=0.002, t=0.998
!i    M8822,   0.5375,    -0.070,   -45.0 #SNEB\_Mmot2mount
i    M8822,   0.5175,    -0.070,   -45.0 #SNEB\_Mmot2mount
d       r,    0.5175,    -0.070,     inch,   -45.0,   0.,         m=3,    r=1 #SNEB\_Mmot2 @+.02,-.04,0.5
 +      t,   dx=0.0105, da=180.5
i      QPD,   0.5175,    0.215,  90.0  #SNEB\_4Q2 @-0.05,+.10,0.5

i    U200,   0.5175,    0.100,   45.0 #SNEB\_M3mount
d     srt,    0.5175,    0.100,     inch,   45.0,   0.,         m=3,    r=1 #SNEB\_M3 @+.02,-.04,0.5
 +      t,   dx=0.0105, da=180.5
d       d,  -0.025,  0.100,  inch,     +180.,   0.,  icc=1  #SNEB\_BD1 @+.02,-.04,0.5
 +      d,   dx=0.010

i      U200,  -0.1245,   0.0,  45.005  #SNEB\_M1mount
d       {str},  -0.1245,   0.0,     inch,   45.005-0.0,   0.,          m=3,    r=0.08, t=0.92 #SNEB\_M1 @+.02,-.04,0.5
 +      {t},   dx=0.0105, da=180.5, r=0.002, t=0.998
i    M8822,   -0.500,   0.0,    -135. #SNEB\_Mmot1mount
d       r,    -0.500,   0.0,     inch,   -135.,   0.,         m=3,    r=1 #SNEB\_Mmot1 @-.005,-.04,0.5
 +      t,   dx=0.0105, da=180.5
i      QPD,   -0.500,    0.075,   90.0 #SNEB\_4Q1 @-0.05,+.10,0.5

!Pick-off the beam towards external bench if needed
!i      U200,  +0.470+0.0125-0.550,  -0.2295,   -45.0  #SNEB\_M3mount
!d       str,  +0.470+0.0125-0.550,  -0.2295,  inch,   -45,   0.,              m=3,    r=0.99, t=0.01 #SNEB\_M3 @-.06,-.04,0.5
! +      t,   dx=0.0105, da=180.5
!d       d,  +0.354+0.0125-0.425,  +0.000,  inch,     +90.,   0.,  icc=1  #SNEB\_BD1 @+.02,-.04,0.5
! +      d,   dx=0.010


!!! ISC auxiliary beam (CALVA)

d     d,   -0.400, -0.300,  0.005, 0, icc=1 #CalvaBeamStart @+.01,+.01,0.5
+     d, dx=0.002

!!!Dichroic mirror to reflect the YAG and transmit the auxiliary laser (and Hartmann beam)
i     U200,  -0.125,  -0.150,  45.0  #SNEB\_Mdmount
d      {str}1,  -0.125,  -0.150,    inch,   45.,   0.,    m=3,     r=0.99, t=0.01  #SNEB\_Md  @+.02,-.04,0.5
 +         t,   dx=0.0105,da=180.5
!d       t,   -0.275+00.0e-3,   -0.150,    inch,   180.,   0.,    m=3,     r=0.01, t=0.99, f=+0.265  #SNEB\_Laux2 @-.100,-0.02,0.5
!+       t,   dx=0.006
i    M8822,  -0.550,    -0.150,    157.5 #SNEB\_Maux1mount
!!!i    U200,  -0.550,    -0.1505,    157.55 #SNEB\_Maux1mount
d       r,   -0.550,    -0.150,    inch,  157.5,   0.,    m=3,     r=1.00, t=0.00  #SNEB\_Maux1 @-.05,-0.04,0.5
 +      d,   dx=0.0105,da=180.5
!!i    M8822,  -0.300,    -0.525,    -135 #SNEB\_Maux2mount
!!d       r,   -0.300,    -0.525,    inch,     -135.,   0.,    m=3,     r=1.00, t=0.00  #SNEB\_Maux2 @+.01,0.00,0.5
!! +      d,   dx=0.0105,da=180.5
i    M8822,  -0.175,    -0.525,    0. #SNEB\_Maux2mount
d       r,   -0.175,    -0.525,    inch,     0.,   0.,    m=3,     r=1.00, t=0.00  #SNEB\_Maux2 @+.01,0.00,0.5
 +      d,   dx=0.0105,da=180.5
!!!Room for translation stage around lens for aux. beam
!d        d,  -0.275-0.0061,    -0.450+0.025-0.0061,   inch+0.001,  -45,          m=0
! +       d,   dm=0.100,icc=20
!!h        t,  -0.275-0.0061,    -0.450+0.025-0.0061,   inch,        -45., c=0.0,  m=0
!! +       t,   dm=0.100
!d       t,   -0.350,    -0.350,    inch,  -45.,   0.,     m=1,     r=0.00, t=1.00, f=0.350  #SNEB\_Laux  @-.150,0.0,0.5 
! +      t,   dx=0.006

!!Try to put a SLED and a quadrant/PSD to lock the SNEB bench onto the NE mirror
!b           +0.625,       +0.600,    200e-6, -90.0,  p=2e-3, z=34e-3    #SNEB\_OL

b           +0.600,       +0.600,    1.8e-3, -90.0,  p=2e-3, z=-2        #SNEB\_BeamCtrl
d       t,  +0.6007,       -0.400,  inch/2,     -90.0,  f=+5.00           #SNEB\_OL\_f0 @+.01,-0.05,0.5
 +      t,   dm=0.005
d       r,  +0.5993,       -0.600,  inch/2,     -45,  m=3, r=1., c=0    #SNEB\_OL\_M1 @+.01,-0.05,0.5
 +      d,   dx=0.006, da=180.5
d       r,  +0.260,       -0.600,  inch/2,     134.687,m=3, r=1., c=0    #SNEB\_OL\_M2 @+.01,-0.05,0.5
 +      d,   dx=0.006, da=180.5
d       r,  -0.01957,   -0.600,  inch,     +45.0,   m=3, r=1., c=0      #SNEB\_OL\_M3 @-.015,-0.05,0.5
 +      d,   dx=0.0105, da=180.5
d       t,  -0.175,       -0.600,  inch,    +180.,   m=3, t=1., f=20e-2  #SNEB\_OL\_f2 @-.10,-0.05,0.5
 +      t,   dx=0.006
d       d,  -0.430,       -0.600,  0.025,    1.6                         #SNEB\_OL\_PSD2 @-.05,-.05,0.5
 +      d,   dm=0.030,    icc=icqpd

d     srt,  +0.600,       -0.225,  inch/2,    -45.0,  m=3, r=0.3, c=0   #SNEB\_OL\_M0 @+.01,-0.05,0.5
 +      t,   dx=0.006, da=180.5
d       t,  -0.350,       -0.225,  inch/2,       0.0,  f=20e-2          #SNEB\_OL\_f1 @+.01,-0.05,0.5
 +      t,   dm=0.005
d       d,  -0.600,       -0.225,  0.025,     1.6                       #SNEB\_OL\_PSD1 @-.05,-.05,0.5
 +      d,   dm=0.030,    icc=icqpd




!Dump all beams going to ENEB1 and ENEB2
d       d,   -0.01,     0.8,    0.5,  90.,   0.,   icc=1   #ENEB1\_BD @-.05,+.03,0.5
+       d,   dx=0.01, c=0

d       d,  -0.82,    -1.0,     0.4, -90.,   0.,   icc=1   #ENEB2\_BD @-.05,-.03,0.5
+       d,   dx=0.01, c=0


!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------- WEST End Benches  ---------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o  sweb_x0,  sweb_y0+1e-3,  0.0 # AdV mini-tower position.  Angle to be adjusted to have the bench axis parallel to the beam axis


i MINITOWER1, 0, 0,  90  # minitSWEB

! --- Wire to suspend SWEB ---
d       d, +0.010,      0.,  0.010,        180.0,  100.0,icc=1    # wire
 +      d,  dm=0., c=100.
! --- Dead zone for electrical cables around the wire
d       d, 0.,      -0.025,  0.025,    +90.0,  icc=20 # cables
 +      d,  dm=0.050


!! ---- Start of SNEB telescope
!!      act       xap       yap     rap   phi         cur med  r   t  # label
!! MMT doublet. medium of lenses is BK7 (number 5)
d       t,    0.530,     0.120,                      0.112, 180.0,  1./2.188,  m=5,   r=0., t=1. # SWEB\_MMT\_L1a @-.05,.0,0.5
 +      t,   dx=0.046, c=1./7.3345
d       t,    0.530-0.046-1.319e-3-3e-3, 0.120,      0.112, 180.0, -1./2.979,  m=5,   r=0., t=1. # SWEB\_MMT\_L1b @-.05,.0,0.5
 +      t,   dx=0.023, c=1./4.500

!! MMT doublet mount (extracted from the mechanics described in the HWII database, will be redone for AdV).
d       d,   0.545, 0.110-0.112-0.030/2.+0.010, 0.030/2,  180.0, m=0, icc=1
 +      d,   dx = 0.118
d       d,   0.545, 0.110+0.112+0.030/2.+0.010, 0.030/2,  180.0, m=0, icc=1
 +      d,   dx = 0.118

!! MMT flat mirrors
d       r,  -0.500,  0.1191, 8*inch/2.,   180.+9.36,    0.,    m=9,     r=1., t=0. #SWEB\_MMT\_M1 @-.05,.03,0.5
 +      d,   dx=0.040,c=0
i     ST8,  -0.500,  0.1191, 180+9.36 #SWEB\_MMT_M1mount @-0.05,0.03,0.5

d       r,  0.425,  0.4245+8.4e-3,     6*inch/2.,   12.191,     0.,    m=9,     r=1., t=0. #SWEB\_MMT\_M2 @-.08,-.06,0.5
 +      d,   dx=0.030,c=0
i     ST6,  0.425,  0.4245+8.4e-3, 12.191 #SWEB\_MMT_M2mount @-0.05,0.03,0.5


!!d       r,   -0.1595,     0.580,   3*inch/2.,   90.0+13.6015,   0.,    m=9,     r=1., t=0. #SNEB\_MMT\_M3 @-0.05,.03,0.5
i   M8822,   -0.492,  0.4242-0.0992+17.2e-3, 90+79.0 #SWEB\_MMT\_M3mount
d       r,   -0.492,  0.4242-0.0992+17.2e-3,  3*inch/2.,   90+79.0,   0.,    m=9,     r=1., t=0. #SWEB\_MMT\_M3 @-0.05,.03,0.5
 +      d,   dx=0.0105,c=0

i   M8822,   0.400,  -0.125, 90-103.825 #SWEB\_MMT\_M4mount
d       r,   0.400,  -0.125,  2*inch/2.,   90-103.825,   0.,    m=9,     r=1., t=0. #SWEB\_MMT\_M4 @-0.05,.03,0.5
 +      d,   dx=0.0105,c=0

!! room for translation stage of L2
!d        d,  -0.076+9.25e-2-0.08, -0.160,    0.035,    0,       m=0
! +       d,   dm=0.160,icc=20
!h        t,  -0.076+9.25e-2-0.08, -0.160,    0.030,    0., 0.0, m=0  #SWEB\_L2mount
! +       t,   dm=0.160

! L2
d       t,    0.2633, -0.125,  inch/2.,  0.,   m=1, r=0., t=1., f=-0.100 #SWEB\_MMT\_L2 @+.020,-.020,.5
 +      t,   dx=0.006

!! ---- End of SNEB telescope


!!Towards the longitudinal photodiodes
i    U200,      -0.150, -0.1193,     44.85+90, #SWEB\_M4mount
d       r,      -0.150, -0.1193,    inch,    44.85+90,   0.,    m=3,    r=1.0, t=0.0  #SWEB\_M4 @+.02,-.04,0.5
 +      d,   dx=0.0105, da=180.5

!! (option #2)
!i   M8822,      -0.150,  -0.200+4.5e-3-5.7e-3, -44.75, #SWEB\_Mmot3mount
!d      str,     -0.150,  -0.200+4.5e-3-5.7e-3,    inch,    -44.75,    0.,        m=3,     r=0.50, t=0.50 #SWEB\_Mmot3 @-.04,-.04,0.5
! +       t,  dx=0.0105, da=180.5
!i    M8822,    -0.325-0.125,  -0.200+3.4e-3-6.7e-3,  135.2, #SWEB\_Mmot4mount
!d      srt,    -0.325-0.125,  -0.200+3.4e-3-6.7e-3,   inch,    135.2,    0.,        m=3,     r=1.           #SWEB\_Mmot4 @-.05,-.04,0.5
! +       t,   dx=0.0105, da=180.5 
!i      PD2,    -0.450-0.0125-0.125,  -0.200,    180.         #SWEB\_Pd1  @-.05,+.055,0.5
!i      PD2,    -0.325-0.125,  -0.100+0.050-0.2875,     -90          #SWEB\_Pd2  @-.03,+.06,0.5

i   M8822,      -0.150,  -0.200+4.5e-3, -44.75, #SWEB\_Mmot3mount
d      str,     -0.150,  -0.200+4.5e-3,    inch,    -44.75,    0.,        m=3,     r=0.50, t=0.50 #SWEB\_Mmot3 @-.04,-.04,0.5
 +       t,  dx=0.0105, da=180.5
i    M8822,    -0.325,  -0.200+3.4e-3,  135.2+90, #SWEB\_Mmot4mount
d      srt,    -0.325,  -0.200+3.4e-3,   inch,    135.2+90,    0.,        m=3,     r=1.           #SWEB\_Mmot4 @-.05,-.04,0.5
 +       t,   dx=0.0105, da=180.5 
i      PD2,    -0.450-0.025,  -0.200,    180.         #SWEB\_Pd1  @-.05,+.055,0.5
i      PD2,    -0.325,  -0.100+0.050,     90          #SWEB\_Pd2  @-.03,+.06,0.5

!!Towards the camera (option #2)
!i    M8822,   -0.150+2.7e-3, -0.3515-19.3e-3,   -44.96  #SWEB\_Mmot5mount
!d        r,   -0.150+2.7e-3, -0.3515-19.3e-3,   inch,     -44.96,    0.,        m=3,     r=1.   #SWEB\_Mmot5 @-.15,+.01,0.5
! +       t,  dx=0.0105, da=180.5
!i    M8822,   -0.400+0.125,   -0.350-3.2e-3-19.3e-3,  135.2+90 #SWEB\_Mmot6mount
!d      srt,   -0.400+0.125,   -0.350-3.2e-3-19.3e-3, inch,   +135.2+90,    0.,        m=3,     r=1.   #SWEB\_Mmot6 @-.15,+.01,0.5
! +       t,   dx=0.0105, da=180.5
!i CAM2,   -0.6175, -0.350-0.025,      180.     #SWEB\_Cam1  @-.05,.07,0.50
!i CAM2,   -0.400+0.125,  -0.6175+0.375,     90.     #SWEB\_Cam2  @+.04,.00,0.50

!!Towards the camera (nominal)
!i    M8822,   -0.150+2.7e-3, -0.3515,   -44.96  #SWEB\_Mmot5mount
!d        r,   -0.150+2.7e-3, -0.3515,   inch,     -44.96,    0.,        m=3,     r=1.   #SWEB\_Mmot5 @-.15,+.01,0.5
! +       t,  dx=0.0105, da=180.5
!i    M8822,   -0.400,   -0.350-3.2e-3,  135.2 #SWEB\_Mmot6mount
!d      srt,   -0.400,   -0.350-3.2e-3, inch,   +135.2,    0.,        m=3,     r=1.   #SWEB\_Mmot6 @-.15,+.01,0.5
! +       t,   dx=0.0105, da=180.5
!i CAM2,   -0.6175, -0.350,      180.     #SWEB\_Cam1  @-.05,.07,0.50
!i CAM2,   -0.400,  -0.6175,     -90.     #SWEB\_Cam2  @+.04,.00,0.50

!!Towards the camera
i    M8822,   -0.150, -0.349,   -45.35  #SWEB\_Mmot5mount
d        r,   -0.150, -0.349,   inch,     -45.35,    0.,        m=3,     r=1.   #SWEB\_Mmot5 @-.15,+.01,0.5
 +       t,  dx=0.0105, da=180.5
i    M8822,   -0.150+3.1e-3,   -0.275,  134.845+90 #SWEB\_Mmot6mount
d      srt,   -0.150+3.1e-3,   -0.275, inch,   134.845+90,    0.,        m=3,     r=1.   #SWEB\_Mmot6 @-.15,+.01,0.5
 +       t,   dx=0.0105, da=180.5
i CAM2,   -0.2375-0.087, -0.350,      180.     #SWEB\_Cam1  @-.05,.07,0.50
i CAM2,   0.3425+0.087,  -0.275,     0.     #SWEB\_Cam2  @+.04,.00,0.50

!!Towards the quadrant photodiodes
i    U200,   0.070,   -0.1212, 224.81 #SWEB\_M2mount
d     str,   0.070,   -0.1212,    inch,  224.81,   0.,         m=3,    r=0.99, t=0.01 #SWEB\_M2 @+.02,-.04,0.5
 +      t,   dx=0.0105, da=180.5
i   M8822,   0.070,     0.5375,   45. #SWEB\_Mmot2mount
d       r,   0.070,     0.5375,     inch,      45.,   0.,         m=3,    r=1 #SWEB\_Mmot2 @+.02,-.04,0.5
 +      t,   dx=0.0105, da=180.5
i      QPD,   -0.175,  0.5375,  180.0  #SWEB\_4Q2 @-0.05,+.10,0.5
i    U200,   0.0,    -0.1237, 134.6  #SWEB_M1mount
d     str,   0.0,    -0.1237,    inch,  134.6,  0.,          m=3,    r=0.99, t=0.01 #SWEB\_M1 @+.02,-.04,0.5
 +      t,   dx=0.0105, da=179.5
i   M8822,    0.0,     -0.500,   -45. #SWEB\_Mmot1mount
d       r,    0.0,     -0.500,    inch,   -45.,   0.,         m=3,    r=1 #SWEB\_Mmot1 @-.005,-.04,0.5
 +      t,   dx=0.0105, da=180.5
i      QPD,  -0.075, -0.500,   180.0 #SWEB\_4Q1 @-0.05,+.10,0.5


!!!Pick-off the beam towards external bench if needed
!i    U200,  0.2295,  +0.470+0.0125-0.550,     45.0 #SWEB\_M3mount
!d     str,  0.2295,  +0.470+0.0125-0.550,  inch,   45.0,   0.,              m=3,    r=0.99, t=0.01 #SWEB\_M3 @-.06,-.04,0.5
! +      t,   dx=0.0105, da=180.5
!d       d,   0.00,   +0.354+0.0125-0.425,  inch,  180,   0.,  icc=1  #SWEB\_BD1 @+.02,-.04,0.5
! +      d,   dx=0.010


!! ISC auxiliary beam (CALVA)
!!Dichroic mirror to reflect the YAG and transmit the auxiliary laser (and Hartmann beam)

d     d,   0.300, -0.400,  0.005, 90, icc=1 #CalvaBeamStart @+.01,+.01,0.5
+     d, dx=0.002

i    U200,  0.150,   -0.125,    135.0 #SWEB\_Mdmount
d     str,  0.150,   -0.125,    inch,   135.,   0.,    m=3,     r=0.99, t=0.01  #SWEB\_Md  @+.02,-.04,0.5
 +      t,   dx=0.0105,da=180.5
!d       t,    0.150,    -0.275,    inch,   -90.,   0.,    m=3,     r=0.01, t=0.99, f=0.175  #SWEB\_Laux2 @-.100,-0.02,0.5
! +      t,   dx=0.006
i   M8822,    0.150,   -0.550,   247.5 #SWEB\_Maux1mount
d       r,    0.150,   -0.550,    inch,  247.5,  0.,    m=3,     r=1.00, t=0.00  #SWEB\_Maux1 @-.05,-0.04,0.5
 +      d,   dx=0.0105,da=180.5
i   M8822,    0.525,    -0.175,    90. #SWEB\_Maux2mount
d       r,    0.525,    -0.175,    inch,    90.,   0.,    m=3,     r=1.00, t=0.00  #SWEB\_Maux2 @+.01,0.00,0.5
 +      d,   dx=0.0105,da=180.5
!!Room for translation stage around lens for aux. beam
!d        d,   0.425+0.0061,    -0.275-0.0061,   inch+0.001,  45,          m=0
! +       d,   dm=0.100,icc=20
!h        t,   0.425+0.0061,   -0.275-0.0061,     inch,       45,  c=0.0,  m=0
! +       t,   dm=0.100
!d       t,    0.450+0.0061,   -0.250-0.0061,     inch,       45,   0.,    m=1,     r=0.01, t=0.99, f=0.250  #SWEB\_Laux  @-.150,0.0,0.5 
! +      t,   dx=0.006

!!Try to put a SLED and a quadrant to lock the SNEB bench onto the WE mirror
!b           -0.600,       +0.625,    200e-6,   0.0,  p=2e-3, z=34e-3  #SWEB\_BeamCtrl
!!!!d       t,  +0.600,       +0.100,  inch,     -90.0,  f=-0.500 #SNEB\_Ctrl\_f1 @+.01,-0.05,0.5
!!!! +      t,   dm=0.005
!d       t,  +0.500,        0.625,  inch/2,     -180.0,  f=+0.900 #SWEB\_Ctrl\_f2 @+.01,-0.05,0.5
! +      t,   dm=0.005
!d       r,  +0.620,        0.625,  inch/2,      45.0,  m=3, r=1., c=0  #SWEB\_MCtrl1 @+.01,-0.05,0.5
! +      d,   dx=0.003
!d       r,  +0.620,        0.260,  inch/2,     224.495-0.037,m=3, r=1., c=0  #SWEB\_MCtrl2 @+.01,-0.05,0.5
! +      d,   dx=0.003
!d       r,   0.600,   -0.0253607,    inch,     135.+0.4,   m=3, r=1., c=0  #SWEB\_MCtrl3 @-.015,-0.05,0.5
! +      d,   dx=0.003
!d       t,   0.600,       -0.100,    inch,      90.,   m=3, t=1., f=0.50  #SWEB\_LCtrl2 @-.10,-0.05,0.5
! +      t,   dx=0.003
!d       d,   0.600,       -0.475,    0.0200,   89.00673+1    #SWEB\_4QCtrl1 @-.05,-.05,0.5
! +      d,   dm=0.030,    icc=icqpd
!
!d     srt,  -0.450, +0.625,     inch/2,   45.0,  m=3, r=0.3, c=0  #SWEB\_MCtrl0 @+.01,-0.05,0.5
! +      t,   dx=0.003
!d       d,  -0.450, -0.075,     0.0200,  -90.      #SWEB\_4QCtrl0 @-.05,-.05,0.5
! +      d,   dm=0.030,    icc=icqpd


!!Try to put a SLED and a quadrant/PSD to lock the SNEB bench onto the NE mirror
!b           +0.625,       +0.600,    200e-6, -90.0,  p=2e-3, z=34e-3    #SNEB\_OL

b           -0.600,       +0.600,    1.8e-3, -90.0+90,  p=2e-3, z=-2        #SWEB\_BeamCtrl
d       t,  +0.400,      +0.6007,  inch/2,     -90.0+90,  f=+5.00           #SWEB\_OL\_f0 @+.01,-0.05,0.5
 +      t,   dm=0.005
d       r,  +0.600,    +0.5993,   inch/2,     -45+90,  m=3, r=1., c=0    #SWEB\_OL\_M1 @+.01,-0.05,0.5
 +      d,   dx=0.006, da=180.5
d       r,  +0.600,     +0.260,   inch/2,     134.687+90,m=3, r=1., c=0    #SWEB\_OL\_M2 @+.01,-0.05,0.5
 +      d,   dx=0.006, da=180.5
d       r,  +0.600,   -0.01957,     inch,     +45.0+90,   m=3, r=1., c=0      #SWEB\_OL\_M3 @-.015,-0.05,0.5
 +      d,   dx=0.0105, da=180.5
d       t,  +0.600,     -0.175,     inch,    +180.+90,   m=3, t=1., f=20e-2  #SWEB\_OL\_f2 @-.10,-0.05,0.5
 +      t,   dx=0.006
d       d,  +0.600,     -0.430,    0.025,    1.6+90                         #SWEB\_OL\_PSD2 @-.05,-.05,0.5
 +      d,   dm=0.030,    icc=icqpd

d     srt,  +0.225,     +0.600,   inch/2,    -45.0+90,  m=3, r=0.3, c=0   #SWEB\_OL\_M0 @+.01,-0.05,0.5
 +      t,   dx=0.006, da=180.5
d       t,  +0.225,     -0.350,   inch/2,       0.0+90,  f=20e-2          #SWEB\_OL\_f1 @+.01,-0.05,0.5
 +      t,   dm=0.005
d       d,  +0.225,     -0.600,    0.025,     1.6+90                       #SNEB\_OL\_PSD1 @-.05,-.05,0.5
 +      d,   dm=0.030,    icc=icqpd



!!Dump all beams going to ENEB1 and ENEB2
d       d,   -0.8, -0.01,    0.5,  0.,   0.,   icc=1   #EWEB1\_BD @-.05,+.03,0.5
+       d,   dx=0.01, c=0

d       d,  1.0,   -0.82,    0.4, -180.,   0.,   icc=1   #EWEB2\_BD @-.05,-.03,0.5
+       d,   dx=0.01, c=0






!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------- PR pick-off Benches  ---------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o  sprb_x0,  sprb_y0, prbrot # AdV mini-tower position.  Angle to be adjusted to have the bench axis parallel to the beam axis

i MINITOWER2, 0, 0,  0  # minitSPRB

! --- Wire to suspend SPRB ---
d       d, +0.010,      0.,  0.010,        180.0,  100.0,icc=1    # SPRB\_wire
 +      d,  dm=0., c=100.
! --- Dead zone for electrical cables around the wire
d       d, 0.,      -0.025,  0.025,    +90.0,  icc=20 # cables
 +      d,  dm=0.050

! ---- Start of SPRB telescope
!             act       xap       yap     rap   phi         cur med  r   t  # label
! MMT doublet. medium of lenses is BK7 (number 5)
d       t,   +0.44005,    -0.600,     0.112, 90.0,  1./2.188,        m=5,     r=0., t=1. #SPRB\_MMT\_L1a @-.05,.0,0.5
 +      t,   dx=0.030, c=1./7.3345
d       t,   +0.44005,    -0.600+0.030+1.319e-3+3e-3,  0.112, 90.0, -1./2.979,        m=5,     r=0., t=1. #SPRB\_MMT\_L1b @-.05,.0,0.5
 +      t,   dx=0.019, c=1./4.500
! MMT doublet mount (extracted from the mechanics described in the HWII database, will be redone for AdV).
d       d,   +0.44005+0.112+0.061/2., -0.635+0.02, 0.061/2,  90.0, 0, icc=1
 +      d,   dx = 0.118
d       d,   +0.44005-0.112-0.118/2., -0.635+0.02, 0.118/2,  90.0, 0, icc=1
 +      d,   dx = 0.118

! MMT flat mirrors
d       r,   +0.44035,    0.430,      8*inch/2.,   90.-12.0,     c=0., m=9,  r=1., t=0. #SPRB\_MMT\_M1 @-.05,.03,0.5
 +      d,   dx=0.039,c=0
i      ST8,  +0.44035,    0.430,     90.0-12.0        #SPRB\_MMT\_M1mount @-.03,.01,0.5

!d        d,   0.050,        -0.375,     0.025, 90., icc=1 #BeamViewer @-0.02,-.02,0.12
!  +      d,   dm=0.002

d       r,   0.02945+0.027,    -0.435,      6*inch/2.,  -90.0-16.495,    c=0., m=9,  r=1., t=0. #SPRB\_MMT\_M2 @-.08,-.08,0.5
 +      d,   dx=0.030,c=0
i      ST6, 0.02945+0.027,    -0.435,     -90.0-16.495        #SPRB\_MMT\_M2mount @-.03,.01,0.5

d       r,    0.21695,    0.5797993,  3*inch/2.,   45.0-4.5,   c=0., m=9, r= 1., t=0. #SPRB\_MMT\_M3 @-0.05,.03,0.5
 +      d,   dx=0.01,c=0

d       r,    -0.075-0.500,     0.580,   3*inch/2,   +135.,    0.,       9,     1., 0. #SPRB\_M1 @-0.10,.0,0.5  
 +      d,   dx=0.0105,c=0

d    {srt},   -0.075-0.500,    -0.135+0.500+0.0098+0.00195,  inch,  -90+6.,      m=1, r=0., t=1, c=0  #SPRB\_MMT\_L2 @-.08,.035,.5
+        t,   dx=0.006, rc=-0.0727


!! Diaphragme to dump the reflection of the second face of POP
d       d,    -0.575,     0.085+0.0098,   3*inch,    -90,    0.,       9,     0., 1., icc=1 #SPRB\_Diaph1 @-0.15,.05,0.5
 +      d,   dx=0.01,c=0
h       t,    -0.575,     0.085+0.0098,   0.0080,    -90,    0. #SPRB\_Diaph1H
 +      t,    dx=0.01

!! Extracting the B6 and B9 beams (should be vertically separated)
d       r,    -0.575-0.017,     0.100,   5e-3,    -90-9,    0.,       9,     0., 1. #SPRB\_PO\_B6B9 @-0.05,-.04,0.5
 +      d,   dx=0.01,c=0

i CAM2,   -0.480,           +0.500,           90-15.7   #SPRB\_CamB6B9 @+.02,-.03,0.5
i CAM2,   -0.300,           +0.500,           90-26   #SPRB\_CamB6pB9p @-.01,-.03,0.5

!! Dumping the extra beam power
!!d       d,     -0.395,    0.635,   inch,   -90,    0.,       9,   0., 1.0, icc=1  #SPRB\_Dump @-0.10,-.04,0.5
!! +      d,   dx=0.0105, c=0, da=179.5

!! Towards quadrants photodiode :
i      M8822,   -0.5758,    -0.075,  -135.1,        #SPRB\_Mmot2mount 
d       srt,    -0.5758,    -0.075,   inch,   -135.1,    0.,       9,     1., 0. #SPRB\_Mmot2 @-0.10,.0,0.5
 +      t,   dx=0.0105,c=0,da=179.5
i      GALVO, -0.225,      -0.0754, -45.07   #SPRB\_Galvo2 @-0.07,+.03,0.5
i      QPD,   -0.225,      0.200,  90   #SPRB\_4Q2 @-0.03,-.10,0.5

i      M8822,   -0.586125,    -0.207425, -134.8+180 #SPRB\_Mmot1mount
d       srt,    -0.5787,    -0.200,   inch,   -134.8,    0.,       9,     1., 0. #SPRB\_Mmot1 @-0.10,.0,0.5
 +      t,   dx=0.0105,c=0,da=179.5
i      GALVO, -0.075,      -0.1994, -44.99   #SPRB\_Galvo1 @-0.07,+.03,0.5
i      QPD,   -0.075,      0.300,  90   #SPRB\_4Q1 @-0.03,-.10,0.5


!!! Going towards longitudinal photodiode
i      M8822,   -0.582+1.9e-3,    -0.375+7.4e-3+0.9e-3, -134.6 #SPRB\_Mmot3mount
d       srt,    -0.582+1.9e-3,    -0.375+7.4e-3+0.9e-3,   inch,   -134.6,    0.,       9,     1., 0. #SPRB\_Mmot3 @-0.10,.0,0.5
 +      t,   dx=0.0105,c=0,da=179.5
!d       r,    -0.175,    -0.175,   inch,    45,    0.,       9,     1., 0. #SPRB\_Mmot3 @-0.10,.0,0.5
! +      d,   dx=0.0105,c=0

i      M8822,   -0.275+0.025,    -0.375+7.4e-3-3.8e-3, -45.23 #SPRB\_Mmot4mount
d       srt,    -0.275+0.025,    -0.375+7.4e-3-3.8e-3,   inch,   -45.23,    0.,       9,     1., 0. #SPRB\_Mmot4 @-0.10,.0,0.5
 +      t,   dx=0.0105,c=0,da=179.5
i      PD2,    -0.300+0.025+0.025,     -0.250+0.0125,   90.        #SPRB\_Pd2 @-.06,-.02,0.5
i      PD2,    -0.150+0.025+0.0125,     -0.400+0.025,    0.        #SPRB\_Pd1 @-.03,.01,0.5


!!! Towards face camera
i      M8822,  -0.395,    -0.375+8.3e-3,  -44.9 #SPRB\_M2mount
d       srt,   -0.395,    -0.375+8.3e-3,   inch,   -45,    0.,       9,     1., 0. #SPRB\_M2 @-0.10,.0,0.5
 +      t,   dx=0.0105,c=0,da=180.5

! Going to cameras
!d       srt,    -0.525,    -0.325,   inch,   45,    0.,       9,     1., 0. #SPRB\_Mmot1 @-0.10,.0,0.5
! +      t,   dx=0.0105,c=0
i      M8822, -0.5873+7.5e-3,    -0.550+1.9e-3+2.7e-3,  -134.6 #SPRB\_Mmot5mount
d       r,    -0.5873+7.5e-3,    -0.550+1.9e-3+2.7e-3,   inch,   -134.6,    0.,       9,     1., 0. #SPRB\_Mmot5 @-0.10,.0,0.5
 +      d,   dx=0.0105,c=0,da=180.5
i      M8822,   -0.475,    -0.550+1.9e-3+1.8e-3, -45.24 #SPRB\_Mmot6mount
d       srt,    -0.475,    -0.550+1.9e-3+1.8e-3,   inch,   -45.24,    0.,       9,     1., 0. #SPRB\_Mmot6 @-0.10,.0,0.5
 +      t,   dx=0.0105,c=0,da=179.5

i      CAM2,    -0.475,     -0.420+12.5e-3,   90.        #SPRB\_Cam2 @-.06,-.02,0.5
i      CAM2,    -0.2925+0.050,     -0.550,     0.        #SPRB\_Cam1 @-.03,.01,0.5

!!!! old version (no space for MMT_M1/2 mounts) !!!!!!!!!!!!!!!!
!! room for translation stage of L2
!!d        t,   -0.25+0.08,    0.5798,    0.040,    180,       m=0 #SPRB\_mountL2
!! +       t,   dm=0.160,icc=20
!
!! L2: lens with focal of -0.1615 m
!d    {srt},    -0.25605-0.0096, 0.579811,  inch,  -184.,      m=1, r=0., t=1, c=0  #SPRB\_MMT\_L2 @-.08,.035,.5
!!d    {srt},    -0.25605, 0.579811,  inch,  -184.,      m=1, r=0., t=1, c=0  #SPRB\_MMT\_L2 @-.08,.035,.5
!+        t,   dx=0.003, rc=-0.0727
!!d    {srt}2t,    -0.25605, 0.579811,  inch,  -180.-0,     m=1, r=0., t=1, f=-0.1615  #SPRB\_MMT\_L2 @-.08,.035,.5
!!+    {srt}2t,   dx=0.003
!
!
!! Beam dump of the reflected beams on MMT_L2
!d       d,     +0.050,    +0.530,   inch,      0,    0.,       9,     0., 1., icc=1 #SPRB\_Dump1 @-0.05,.03,0.5
! +      d,   dx=0.01, c=0
!
!! Diaphragme to dump the reflection of the second face of POP
!d       d,    -0.550+0.025,     0.580-389e-6,   3*inch,    180,    0.,       9,     0., 1., icc=1 #SPRB\_Diaph1 @-0.15,.05,0.5
! +      d,   dx=0.01,c=0
!h       t,    -0.550+0.025,     0.580-389e-6,   0.0080,    180,    0. #SPRB\_Diaph1H
! +      t,    dx=0.01
!d       r,    -0.6005+3.8e-3,     0.5795,   inch,   +135,    0.,       9,     1., 0. #SPRB\_M2 @-0.10,.0,0.5
! +      d,   dx=0.0105,c=0
!
!! Dumping the extra beam power
!d   {srt},     -0.6005+3.8e-3,    0.500,   inch,   -120,    0.,       9,   0.5, 0.5 #SPRB\_MDump @-0.10,-.04,0.5
! +      t,   dx=0.0105, c=0, da=179.5
!
!!Going to 4Q photodiode
!d     {srt}, -0.6022+3.8e-3,       +0.400,   inch,   -135,    0.,       9,    0.50, 0.50 #SPRB\_Mmot1 @-0.10,-.03,0.5
! +      t,   dx=0.0105,c=0,da=179.5
!i      GALVO, -0.495,      +0.3995, +44.85   #SPRB\_Galvo1 @-0.07,+.03,0.5
!i      QPD,   -0.495,      -0.070, -90   #SPRB\_4Q1 @-0.03,-.10,0.5
!d     {srt}, -0.6035+3.8e-3,       +0.206,   inch,   -135,    0.,       9,    0.50, 0.50 #SPRB\_Mmot2 @-0.10,-.03,0.5
! +      t,   dx=0.0105,c=0,da=179.5
!i      GALVO, -0.280,      +0.2015, +44.6   #SPRB\_Galvo2 @-0.07,+.03,0.5
!i      QPD,   -0.280,      -0.248, -90   #SPRB\_4Q2 @-0.03,-.10,0.5
!
!!Going to the longitudinal photodiodes
!d     {srt}, -0.60475+3.8e-3,      +0.100,   inch,   -135,    0.,       9,    0.50, 0.50 #SPRB\_M3 @-0.10,-.03,0.5
! +      t,   dx=0.0105,c=0,da=180.5
!d       r, -0.142,      +0.0885,   inch,    +44.3,    0.,       9,    0.50, 0.50 #SPRB\_Mmot3 @-0.10,-.03,0.5
! +      d,   dx=0.0105,c=0,da=180.5
!d     {srt}, -0.144,      -0.089,   inch,   -135.6,    0.,       9,    0.50, 0.50 #SPRB\_Mmot4 @-0.10,-.03,0.5
! +      t,   dx=0.0105,c=0,da=180.5
!i      PD2,    -0.150,     -0.225,   -90.        #SPRB\_Pd1 @-.06,-.02,0.5
!i      PD2,    -0.050,     -0.090,     0.        #SPRB\_Pd2 @-.03,.01,0.5
!
!!Going to the cameras
!!d       r,   -0.601,      -0.45575,   inch,   -134.2,    0.,       9,    1.0           #SPRB\_Mmot5 @-0.10,-.03,0.5
!! +      d,   dx=0.0105,c=0,da=180.5
!d   {srt},   -0.601+3.8e-3,      -0.4518,   inch,    -134.3,    0.,       9,    0.50,  0.50    #SPRB\_Mmot5 @-0.05,.03,0.5
! +      t,   dx=0.0105,c=0,da=180.5
!i CAM,  -0.600,           -0.550,           -90   #SPRB\_Cam1 @-.04,-.05,0.5
!i CAM,  -0.500,           -0.450,             0   #SPRB\_Cam2 @+.003,.0,0.5
!
!! Dumping the beam
!!d       d,     -0.600,    -0.600,   inch,      -90,    0.,       9,     0., 1., icc=1 #SPRB\_Dump2 @-0.10,-.04,0.5
!! +      d,   dx=0.01, c=0
!
!!! pick-off towards phase-camera
!d     srt,    -0.400,     0.0955,  inch,      -46,    0.,       9,     1., 0. #SPRB\_M1 @0.0,+.02,0.5
! +      t,   dx=0.0105,c=0,da=179.5
!d       d,    0,  0.80,  0.65,  90., icc=1  #EPRB\_BD\_PhC @0.0,+.02,0.5
! +      d,    dx=0.01,c=0
!
!
!! Extracting the B6 and B9 beams (should be vertically separated)
!d       r,    -0.530+0.025,     0.580-60e-3,   5e-3,    180+1,    0.,       9,     0., 1. #SPRB\_PO\_B6B9 @-0.05,-.04,0.5
! +      d,   dx=0.01,c=0
!i CAM,  -0.050,           +0.468,           -7   #SPRB\_CamB6B9 @+.02,-.03,0.5
!
!
!d       r,    -0.530+0.025,     0.580-19e-3,   5e-3,    180-10.5,    0.,       9,     0., 1. #SPRB\_PO\_B6pB9p @-0.05,+.06,0.5
! +      d,   dx=0.01,c=0
!i CAM,  -0.040,           +0.350,           -26   #SPRB\_CamB6pB9p @-.01,-.03,0.5
!!
!!!! old version (no space for MMT_M1/2 mounts) !!!!!!!!!!!!!!!!

!!! ---- End of SPRB bench

!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------- PR pick-off Benches  ---------------------------------------------
!------------------------------------------------------------------------------------------------------
!------------------------------------------------------------------------------------------------------

o  sprb_x0-0.1871+5.262E-3,  sprb_y0+0.8803-9.5e-3+8.103E-3, prbrot # AdV mini-tower position.  Angle to be adjusted to have the bench axis parallel to the beam axis

! --- Check center of EPRB ---
!d       d, +0.010,      0.,  0.010,        180.0,  100.0,icc=1    # EPRB1\_center
! +      d,  dm=0., c=100.

d       r,    -0.400,    -0.075,   inch,   135,    0.,       9,     1., 0. #EPRB\_M1 @-0.10,.0,0.5
 +      d,   dx=0.0105,c=0,da=179.5

d        t,    -0.3575, -0.075,  inch/2,      0,    m=1, r=0., t=1, c=0, f=0.125  #EPRB\_L1 @-.01,.025,.5
+        t,   dx=0.005  

d       r,    -0.2775,    -0.075,   inch,   -45,    0.,       9,     1., 0. #EPRB\_M2 @0.03,.0,0.5
 +      d,   dx=0.0105,c=0,da=179.5

d        t,    -0.2775,    0.017,  inch/2,   90,    m=1, r=0., t=1, c=0, f=0.035  #EPRB\_L2 @.03,.00,.5
+        t,   dx=0.0072     

d       r,    -0.2775,     0.052,   inch/2,   135,    0.,       9,     1., 0. #EPRB\_Scanner @-0.10,.0,0.5
 +      d,   dx=0.0105,c=0,da=179.5

c t, -0.0125-0.0127, 0.052, .0127, +00, 0.0, 1, .005, .995 # EPRB\_BS @-.04,0.015,0.5
+ t, rd=0.0127, ag= 090., r=.005, t=.995
+ t, rd=0.0127, ag= 180., r=.005, t=.995
+ t, rd=0.0127, ag= 270., r=.005, t=.995
c srt,  -0.0125, 0.052, .01796, 45., 0., 1, .995, .000 
c srth, -0.0125, 0.052, .01796, 45., 0., 1, .490, .490 

d       d,    0.0675,    0.052,   0.020,   0,    0.,       9,     1., 0., icc=18 #EPRB\_PD @0.05,.0,0.5
 +      d,   dx=0.030,

d       r,    -0.0125,    -0.023,   inch,   -135,    0.,       9,     1., 0. #EPRB\_M3 @-0.10,.0,0.5
 +      d,   dx=0.0105,c=0,da=179.5

d        t,   0.0425,     -0.023,  inch/2,      0,    m=1, r=0., t=1, c=0, f=-0.100  #EPRB\_L3 @-.02,-.035,.5
+        t,   dx=0.005  

d        t,   0.0995,    -0.023,  inch/2,      0,    m=1, r=0., t=1, c=0, f=0.150  #EPRB\_L4 @-.02,-.035,.5
+        t,   dx=0.005  

d       d,    0.1775,     -0.023,   0.020,   0,    0.,       9,     1., 0., icc=9 #EPRB\_HWS @0.05,.0,0.5
 +      d,   dx=0.030,



!!! --- End of EPRB1 bench ----